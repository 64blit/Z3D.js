import * as l from "https://unpkg.com/three/build/three.module.js";
import { GLTFLoader as j } from "https://unpkg.com/three@0.149.0/examples/jsm/loaders/GLTFLoader.js";
import { DRACOLoader as R } from "https://unpkg.com/three@0.149.0/examples/jsm/loaders/DRACOLoader.js";
import { RGBELoader as W } from "https://unpkg.com/three@0.149.0/examples/jsm/loaders/RGBELoader.js";
import { EXRLoader as G } from "https://unpkg.com/three@0.149.0/examples/jsm/loaders/EXRLoader.js";
import { UnrealBloomPass as X } from "https://unpkg.com/three@0.149.0/examples/jsm/postprocessing/UnrealBloomPass.js";
import { RenderPass as F } from "https://unpkg.com/three@0.149.0/examples/jsm/postprocessing/RenderPass.js";
import { EffectComposer as N } from "https://unpkg.com/three@0.149.0/examples/jsm/postprocessing/EffectComposer.js";
import "https://unpkg.com/three@0.149.0/examples/jsm/postprocessing/ShaderPass.js";
import "https://unpkg.com/three@0.149.0/examples/jsm/shaders/FXAAShader.js";
import "https://cdn.jsdelivr.net/npm/camera-controls/dist/camera-controls.min.js";
const i = M;
function M(p, t) {
  const e = E();
  return M = function(x, s) {
    return x = x - 456, e[x];
  }, M(p, t);
}
(function(p, t) {
  const e = M, x = p();
  for (; []; )
    try {
      if (parseInt(e(700)) / 1 * (-parseInt(e(561)) / 2) + parseInt(e(495)) / 3 + -parseInt(e(579)) / 4 * (-parseInt(e(507)) / 5) + parseInt(e(500)) / 6 * (parseInt(e(490)) / 7) + parseInt(e(469)) / 8 + parseInt(e(584)) / 9 + -parseInt(e(549)) / 10 === t)
        break;
      x.push(x.shift());
    } catch {
      x.push(x.shift());
    }
})(E, 900489);
function E() {
  const p = ["clipAction", "cursor", "hoveroff", "clientX", "compileEquirectangularShader", "hash", "getHitObject", "dispose", '<iframe id="XYZ3d-fullscreen" src="', "smoothTime", "exposure", "goToZone", "bind", "set", "onHoverOver", "onPointerMove", "changeSceneZoneByIndex", "Clock", "render", "cameraParams", "Camera", "getBoundingBox", "copy", "interactables", "PMREMGenerator", "init", ".quaternion", "modelName", "iframe not found. Make sure this returns the correct element: document.getElementById(", "onWindowResized", "gltf", "loadModel", "544752Mvcvth", "rotateCamera", "debug", "pointermove", "rotateTo", "contentContainer", "An error happened ", "onHoverOff", "includes", "DirectionalLight", "content", "pointLight", "getBackgroundModelsByZone", "getInteractableModelsByZone", "getWrappedAnimations", "map", "mapping", "goToNextZone", "getCenter", "pushHashURL", "split", "2401EknKzU", "index", "distance", "visibleSelector", "loopAnimations", "4610235WhYxHo", "tiltX", "tiltXArr", "toneMappingExposure", "history", "14358PNWqem", "onUpdate", "interactable", "renderer", "ROTATE", "scale", "length", "7115zFkTor", "moveCamera", "bloom", "minPolarAngle", "round", "ACTION", ");  ", "error", "removeEventListener", "getCamera", "controls", "currentAction", "test", "openLink", "https://unpkg.com/three@0.147.0/examples/js/libs/draco/", "lerp", "DEBUG", "blendMode", "azimuthAngle", "clone", "updatePointer", "innerHTML", "getModel", "onPointerDown", "canvas", "lookAtTargetBox", "pointerDownCallback", "setPaused", "pointer", "lookAt", "moveTo", "rotation", "animation", "click", "lookAtTarget", "path", "auto", "fitCameraOffset", "getAnimationTrack", "intensity", "side", "frame", "10377590SNkncL", "SpotLight", "shadowMap", "zone", "onHover", "lights", "getDelta", "domElement", "_camera", "aspect", "orbitCameraTo", "_domElement", "197086YmoaTe", "min", "wrappedModels", "maxAzimuthAngle", "radius", "setDynamicContent", "multiplyScalar", "loadJson", "EquirectangularReflectionMapping", "Group", "loaded", "right", "setLength", "onPointerDownCallback", "setModelMatrixData", "_objects", "exr", "fromEquirectangular", "1396HDHEXO", "XYZ3d-visible", "getSize", "loadingScreen not found. Make sure this returns the correct element: document.getElementById(", "touchAction", "6220926yAIFCM", "link", "json", "restThreshold", "setDampFactor", "isPostEffectsEnabled", "max", "polarAngle", "rotationTarget", "getIntersectableObjects", "getRandomRange", "jsonData", "type", "orbit", "stopAllAction", "update", "iframe", "pushState", "getHtmlData", "parse", "paused", ".position", "quaternionToVector3", "resize", "zeroSlopeAtEnd", "onPointerUp", "getAnimations", "getSceneWrapper", "changeCameraZone", "remove", "setup", "model", "raycastManager", "onHoverOverCallback", "getInteractableObject", "setupGyro", "getInteractables", "environment", "dispatchEvent", "receiveShadow", "then", "defaultDampFactor", "maxPolarAngle", "setSize", "getPlayer", "activeZoneIndex", "normalize", "_hovered", "postEffects", "push", "resetControlsLimits", "_intersections", "halfWindowWidth", "height", "strength", "build", "bloomParams", "showDynamicHTML", "touchend", "normalBias", "setupRenderer", "getAnimation", "color", "_selected", "getElementById", "tracks", "expandByObject", "userAgent", "Vector2", "loadingScreen", "fitCameraToZone", "Object3D", "mouseup", "setupCamera", "onProgressLoading", "hoveron", "open", "nextScene", "onClick", "PointLight", "getSceneZoneByName", "back", "closeDynamicContent", "scrollWidth", "average", "bloomPass", "lookAtTargetSize", "width", "addDirectionalLight", "add", "setFromCamera", "nextSceneZone", "object", ":>> GLTF element unrecognized:", "light", "addDynamicCloseButton", "point", "activate", "setInputActive", "pointerdown", "activeSceneZone", "tiltY", "intersectableObjects", "maxGyroSignals", "Missing raycast target for: ", "getAnimationsFromCSV", "hoverOverCallback", "left", "camera", "keys", "MAX_SAFE_INTEGER", "mouse", "createLightContainer", "load", "The gryto motion sensor is not supported on this device.", "NoBlending", "17uWNWsT", "zoomTo", "models", "castShadow", "getScene", "onClickAnimations", "boxCenter", "directional", "hoverOffCallback", "setLoop", "layers", "sceneWrapper", "resetCamera", "size", "domElements", "two", "setupRaycaster", "total", "looping", "maxZoom", "addGLTFModel", "cameraAnimations", "Scene", "gltf children :>> ", "top", "setupPostEffects", "pop", "touch", "isMobileDevice", "duration", "animations", "backgroundBlurriness", "enabled", "bgMesh", "addEXR", "innerWidth", "DirectionalLightHelper", "finalComposer", "getBoundingClientRect", "wrapScene", "#XYZ3d-close-btn", "scene", "target", "mouseButtons", "reset", "getRenderer", "fov", "showLoadingScreen", "changeSceneZoneByName", "getHtml", "atan", "getSceneZoneByIndex", "gammaFactor", "sub", "setLookAt", "background", "maxDistance", "addPass", '<div id="XYZ3d-close-btn" class="XYZ3d-close-btn"><span>âœ•</span', "processModel", "gltfLoader", "PerspectiveCamera", "tiltYArr", "getInteractablesByZone", "all", "getRandomIntRange", "jsonPath", "classList", "getObjects", "updateSceneZones", "log", "deactivate", "isOverlayActive", "values", "addEventListener", "touches", "name", "fill", "PointLightHelper", "iframeID", "getCameraBoundsObject", "children", "style", "loadingScreenID", "addLighting", "LoopOnce", "Vector3", "clampWhenFinished", "backgroundIntensity", "player", "AnimationMixer", "wrappedSceneZones", "directionalLight", "transformGroup", "start", "wrappedAnimations", "setDRACOLoader", "gyro", '"></iframe>', "play", "raycastTarget", "install", "high-performance", "addAmbientLight", "minStaticFrames", "element", "enableAll", "innerHeight", "updateProjectionMatrix", "quaternion", "threshold", "AmbientLight", "onHoverAnimations", "intersectObjects", "interactablesContent", "scrollHeight", "active", "toneMapping", "defaultRotationDistance", "hiddenSelector", "createModelContainer", "userData", "position", "Cache", "getRaycastTarget", "querySelector", "forEach", "fps"];
  return E = function() {
    return p;
  }, E();
}
class S {
  static [i(594)](t, e) {
    return Math.random() * (e - t) + t;
  }
  static [i(765)](t, e) {
    return Math[i(511)](Math.random() * (e - t) + t);
  }
  static [i(606)](t, e, x, s) {
    const a = t + t, n = e + e, o = x + x, r = t * n, d = t * o, u = e * o, f = s * a, g = s * n, w = s * o;
    return { x: r - w, y: u + f, z: d - g };
  }
  static map(t, e, x, s, a) {
    return (t - e) * (a - s) / (x - e) + s;
  }
  static [i(668)](t) {
    const e = i;
    let x = 0;
    return t.forEach((s) => {
      x += s;
    }), x / t[e(506)];
  }
}
class Y {
  constructor(t, e, x) {
    const s = i;
    this[s(730)] = x, this[s(702)] = t, this.lights = e, this.wrappedModels = { interactables: [], bg: [], player: null }, this.wrappedAnimations = { looping: [], onClick: [], onHover: [], camera: [] }, this[s(791)] = [], this[s(739)](this.models), this.updateSceneZones(this[s(791)]);
  }
  wrapScene(t) {
    const e = i, x = { interactables: [], bgMesh: [], player: null }, s = [];
    for (let a = 0; a < t[e(506)]; a++) {
      const n = t[a], o = n[e(615)][e(821)];
      let r = {};
      const d = this[e(610)](o, n[e(776)]);
      switch (o[e(596)]) {
        case e(502):
          r = this[e(618)](n, o, d), x[e(460)][e(633)](r);
          break;
        case "cameraBounds":
          r = this[e(780)](n, o), s[e(633)](r);
          break;
        case "bgMesh":
          x.bgMesh.push(n.model);
          break;
        case "raycastMesh":
          x.bgMesh[e(633)](n[e(615)]);
          break;
        case e(789):
          x.player = n.model;
          break;
      }
    }
    this[e(563)] = x, this[e(791)] = s;
  }
  [i(769)](t) {
    const e = i, x = [...t];
    for (let s = 0; s < x[e(506)]; s++) {
      const a = x[s], n = a.position, o = this[e(482)](a.zone);
      o[e(506)] <= 0 && this[e(481)](a.zone)[e(826)]((g) => {
        o[e(633)](g);
      });
      const r = this[e(458)](o), d = new l.Vector3();
      r[e(487)](d);
      const u = new l[e(786)]();
      r[e(581)](u), x[s][e(706)] = n, x[s][e(532)] = r, x[s][e(670)] = u, x[s][e(541)] = d;
    }
    this[e(791)] = x;
  }
  [i(751)](t) {
    const e = i;
    let x = null;
    return this.wrappedSceneZones[e(826)]((s) => {
      s.index === t && (x = s);
    }), x;
  }
  [i(664)](t) {
    const e = i;
    let x = null, s = null;
    return this[e(791)][e(826)]((a) => {
      a[e(552)] === t && (x = a);
    }), { zoneBox: x, index: s };
  }
  getLoopingAnimations() {
    const t = i, e = { looping: [] };
    return this[t(795)][t(718)].forEach((x) => {
      const s = t;
      x[s(730)][s(826)]((a) => {
        const n = s;
        e[n(718)][n(633)](a);
      });
    }), e;
  }
  [i(483)]() {
    return this[i(795)];
  }
  [i(628)]() {
    const t = i;
    return this.wrappedModels[t(789)];
  }
  [i(620)]() {
    const t = i;
    return this[t(563)][t(460)];
  }
  [i(763)](t) {
    const e = i, x = [];
    for (let s = 0; s < this[e(563)].interactables[e(506)]; s++) {
      const a = this[e(563)][e(460)][s];
      a[e(552)] === t && x.push(a);
    }
    return x;
  }
  [i(482)](t) {
    const e = i, x = [];
    for (let s = 0; s < this[e(563)][e(460)][e(506)]; s++) {
      const a = this.wrappedModels[e(460)][s];
      a[e(552)] === t && x[e(633)](a[e(805)][e(615)]);
    }
    return x;
  }
  getBackgroundModelsByZone(t) {
    const e = i, x = [];
    for (let s = 0; s < this[e(563)][e(733)].length; s++) {
      const a = this[e(563)][e(733)][s];
      a[e(596)] === "Group" ? a[e(781)][e(826)]((n) => {
        const o = e;
        a.userData.zone === t && x[o(633)](n);
      }) : a[e(821)][e(552)] === t && x[e(633)](a);
    }
    return x;
  }
  [i(458)](t) {
    const e = i, x = new l.Box3();
    t[e(596)] === e(570) && (t = [...t.children]);
    for (let s = 0; s < t[e(506)]; s++) {
      const a = t[s];
      x[e(650)](a);
    }
    return x;
  }
  [i(529)](t) {
    const e = i;
    for (let x = 0; x < this.models[e(506)]; x++) {
      const s = this[e(702)][x][e(615)];
      if (s[e(776)] === t)
        return s;
    }
    return null;
  }
  [i(645)](t) {
    const e = i;
    for (let x = 0; x < this[e(730)][e(506)]; x++) {
      const s = this[e(730)][x];
      if (s[e(776)] === t)
        return s;
    }
    return null;
  }
  getAnimationsFromCSV(t) {
    const e = i, x = t[e(489)](","), s = [];
    for (let a = 0; a < x[e(506)]; a++) {
      const n = x[a];
      s[e(633)](this[e(645)](n));
    }
    return s;
  }
  [i(545)](t, e) {
    const x = i;
    for (let s = 0; s < t.tracks[x(506)]; s++)
      if (t[x(649)][s][x(776)] === e)
        return t[x(649)][s];
    return null;
  }
  getCameraAnimationStart(t) {
    const e = i, x = { position: null, rotation: null };
    for (let s = 0; s < t.camera[e(506)]; s++) {
      const a = t[e(692)][s];
      for (let n = 0; n < a[e(649)][e(506)]; n++) {
        const o = a[e(649)][n];
        if (o[e(776)].includes(e(605)))
          x.position = new l[e(786)](o[e(773)][0], o.values[1], o.values[2]);
        else if (o[e(776)][e(477)](e(463))) {
          const r = new l.Quaternion(o[e(773)][0], o[e(773)][1], o[e(773)][2], o[e(773)][3]);
          x[e(538)] = r;
        }
      }
    }
    return x;
  }
  [i(610)](t, e) {
    const x = i;
    let s = null, a = null, n = null, o = null;
    return x(494) in t && (s = this[x(689)](t.loopAnimations), this[x(795)].looping[x(633)]({ name: e, animations: s })), x(705) in t && (a = this[x(689)](t[x(705)]), this.wrappedAnimations[x(662)][x(633)]({ name: e, animations: a })), x(812) in t && (n = this[x(689)](t.onHoverAnimations), this.wrappedAnimations[x(553)][x(633)]({ name: e, animations: n })), "cameraAnimations" in t && (o = this[x(689)](t[x(721)]), this[x(795)][x(692)][x(633)]({ name: e, animations: o })), { loopAnimations: s, onHoverAnimations: n, onClickAnimations: a, cameraAnimations: o };
  }
  [i(618)](t, e, x) {
    const s = i, a = this[s(824)](e.raycastTarget), n = { name: t[s(776)], raycastTarget: a, element: t, animations: {}, zone: e[s(552)] };
    return x[s(812)] !== null && (n[s(730)].onHover = x[s(812)]), x[s(705)] !== null && (n.animations[s(662)] = x[s(705)]), x.cameraAnimations !== null && (n[s(730)][s(692)] = x.cameraAnimations), n;
  }
  getCameraBoundsObject(t, e) {
    const x = i, s = { zone: e[x(552)], index: parseInt(e[x(491)], 10), position: t[x(615)][x(822)] };
    return t.model.visible = ![], s;
  }
  [i(824)](t) {
    const e = i, x = this[e(529)](t);
    return x == null ? (console[e(770)](e(688), t), null) : (x.material[e(547)] = l.BackSide, x.material.visible = ![], x);
  }
}
class q {
  async [i(603)](t) {
    const e = i;
    let x = null;
    return await fetch(t)[e(624)]((s) => s[e(586)]())[e(624)]((s) => {
      x = s;
    }), x;
  }
}
class U {
  constructor(t, e, x) {
    const s = i;
    this[s(741)] = t, this[s(503)] = e, this.jsonPath = x, this.sceneWrapper;
    const a = new R();
    if (a.setDecoderPath(s(521)), this[s(760)] = new j(), this[s(760)][s(796)](a), window[s(523)]) {
      const n = new l.AxesHelper(5e3);
      this.scene[s(673)](n);
    }
  }
  [i(611)]() {
    return this.sceneWrapper;
  }
  async [i(568)]() {
    const t = i;
    return await new q()[t(603)](this[t(766)]);
  }
  async [i(639)](t) {
    const e = i, x = await this.loadJson(), s = [], a = [], n = await this[e(720)](x[e(702)], t), o = this[e(784)](x[e(554)]);
    return o.push(...n[e(554)]), s[e(633)](...n.models), a[e(633)](...n[e(730)]), this[e(711)] = new Y(s, o, a), this[e(711)];
  }
  async [i(720)](t, e) {
    const x = i, s = [], a = [], n = [];
    for (let o = 0; o < t[x(506)]; o++) {
      const r = t[o], d = function(u) {
        const f = x;
        e(o + 1, t[f(506)], 100 * u[f(571)] / u[f(717)]);
      };
      await this[x(468)](r, d)[x(624)]((u) => {
        const f = x;
        window[f(523)] && console[f(770)](f(723), [...u[f(467)][f(741)][f(781)]]);
        const g = this[f(759)](u);
        s.push(...g[f(702)]), a[f(633)](...g[f(554)]), n[f(633)](...g[f(730)]);
      });
    }
    return { models: s, lights: a, animations: n };
  }
  [i(529)](t, e) {
    const x = i;
    for (let s = 0; s < t.length; s++) {
      const a = t[s];
      if (a[x(776)] === e)
        return a;
    }
    return null;
  }
  createModelContainer(t, e) {
    const x = i, s = { name: t.name, model: t };
    switch (this[x(575)](t, e), t[x(703)] = e[x(703)], t[x(623)] = e[x(623)], t[x(821)][x(596)]) {
      case x(733):
        break;
      case x(502):
        const a = this[x(749)](e, t.name);
        s.contentType = a[x(596)], s[x(479)] = a.content;
        break;
    }
    return s;
  }
  [i(696)](t, e) {
    return { type: t, light: e };
  }
  [i(759)](t) {
    const e = i, x = [...t[e(467)][e(741)][e(781)]], s = t.gltf[e(730)], a = [], n = [], o = 1e5;
    for (let r = 0; r < x.length; r++) {
      const d = x[r];
      switch (d[e(710)][e(806)](), d.type) {
        case "Mesh":
          a.push(this.createModelContainer(d, t[e(595)]));
          break;
        case "Group":
          d[e(781)][e(826)]((u) => {
            const f = e;
            this[f(575)](u, t[f(595)]);
          }), a[e(633)](this[e(820)](d, t.jsonData));
          break;
        case e(655):
          a[e(633)](this.createModelContainer(d, t[e(595)]));
          break;
        case e(663):
          d[e(546)] /= o, n[e(633)](this[e(696)](e(680), d));
          break;
        case e(478):
          d[e(546)] /= o, n[e(633)](this[e(696)](e(707), d));
          break;
        case e(550):
          d[e(546)] /= o, n[e(633)](this[e(696)]("spot", d));
          break;
        default:
          console.log(e(677), d);
          break;
      }
      this[e(741)][e(673)](d);
    }
    return { models: a, lights: n, animations: s };
  }
  [i(575)](t, e) {
    const x = i;
    t[x(822)][x(841)](t[x(822)].x + e.position.x, t[x(822)].y + e[x(822)].y, t.position.z + e[x(822)].z), t[x(809)][x(841)](e[x(538)].x, e[x(538)].y, e[x(538)].z, e[x(538)].w), t[x(505)][x(841)](e.scale.x, e[x(505)].y, e[x(505)].z);
  }
  [i(749)](t, e) {
    const x = i, s = this.getHtmlData(t, e);
    if (s[x(479)] !== void 0)
      return s[x(596)] === x(600) && (s[x(479)] = x(836) + s.content + x(798)), s;
  }
  [i(602)](t, e) {
    const x = i, s = t[x(814)];
    for (let a = 0; a < s[x(506)]; a++) {
      const n = s[a];
      if (n[x(464)] === e)
        return n;
    }
    return null;
  }
  async [i(468)](t, e) {
    return new Promise((x) => {
      const s = M;
      return this[s(760)].load(".." + t[s(542)], function(a) {
        x({ gltf: a, jsonData: t });
      }, e, function(a) {
        const n = s;
        console[n(770)](n(475) + a);
      });
    });
  }
  [i(784)](t) {
    const e = i, x = [];
    for (let s = 0; s < t[e(506)]; s++) {
      const a = t[s];
      let n, o;
      const r = { type: null, light: null };
      switch (a[e(596)]) {
        case "hdr":
          this.addHDR(a[e(542)], a[e(788)], a.backgroundBlurriness);
          break;
        case e(577):
          this.addEXR(a[e(542)], a[e(788)], a[e(731)]);
          break;
        case e(480):
          n = new l[e(786)](a[e(822)].x, a[e(822)].y, a.position.z), o = this.addPointLight(n, a[e(646)], a[e(546)], a[e(713)], a[e(703)]), r[e(596)] = "pointLight", r.light = o;
          break;
        case e(792):
          n = new l[e(786)](a.position.x, a.position.y, a[e(822)].z);
          const d = new l.Vector3(a.target.x, a[e(742)].y, a[e(742)].z);
          o = this.addDirectionalLight(n, d, a[e(646)], a[e(546)], a[e(703)]), r.type = "directionalLight", r[e(678)] = o;
          break;
        case "ambientLight":
          o = this[e(803)](a[e(646)], a.intensity), r[e(596)] = "ambientLight", r[e(678)] = o;
          break;
      }
      x[e(633)](r);
    }
    return x;
  }
  addPointLight(t, e = 0, x = 1, s = 1500, a = ![]) {
    const n = i, o = new l[n(663)](e, x, s);
    if (o[n(822)][n(522)](t, 1), o[n(703)] = a, o[n(643)] = 0.1, this[n(741)][n(673)](o), window.DEBUG) {
      const r = new l[n(778)](o, 0.25);
      this[n(741)][n(673)](r);
    }
    return o;
  }
  [i(803)](t = 0, e = 1) {
    const x = i, s = new l[x(811)](t, e);
    return this.scene.add(s), s;
  }
  [i(672)](t, e = new l[i(786)](0, 0, 0), x = 16777215, s = 2, a = ![]) {
    const n = i, o = new l[n(478)](x, s);
    if (o[n(822)][n(522)](t, 1), o[n(742)].position[n(522)](e, 1), o[n(703)] = a, o.normalBias = 0.1, this[n(741)][n(673)](o), this[n(741)][n(673)](o[n(742)]), window[n(523)]) {
      const r = new l[n(736)](o);
      this[n(741)][n(673)](r);
    }
    return o;
  }
  addHDR(t, e, x) {
    const s = i, a = new l.PMREMGenerator(this.renderer);
    a[s(832)]();
    let n;
    new W()[s(697)](".." + t, (o) => {
      const r = s;
      n = a[r(578)](o).texture, this[r(741)][r(621)] = n, this[r(741)][r(755)] = n, this[r(741)][r(788)] = e, this.scene[r(731)] = x, o[r(835)](), a.dispose();
    });
  }
  [i(734)](t, e, x) {
    const s = i, a = new l[s(461)](this[s(503)]);
    a[s(832)]();
    let n;
    new G()[s(697)](".." + t, (o) => {
      const r = s;
      o[r(485)] = l[r(569)], n = a[r(578)](o).texture, this[r(741)][r(621)] = n, this[r(741)][r(755)] = n, this[r(741)][r(788)] = e, this[r(741)][r(731)] = x, o.dispose(), a.dispose();
    });
  }
}
class V {
  constructor(t, e) {
    const x = i;
    l[x(823)][x(732)] = !![], this.canvas = document[x(648)](t), !this[x(531)] && console[x(514)]("Canvas not found. Make sure this returns the correct element: document.GetElementByID(", t, ");  "), this[x(456)] = e, this.bloomParams = e[x(632)][x(509)], this[x(671)] = this[x(531)][x(667)], this.height = this[x(531)][x(815)], this.camera = new l[x(761)](this[x(456)][x(746)], this[x(671)] / this[x(637)], 0.1, 1e4), this[x(692)][x(776)] = x(457), this[x(741)] = new l[x(722)](), this.renderer, this[x(737)], this[x(669)], this[x(589)] = e[x(632)][x(732)], this[x(644)](), this[x(589)] && this[x(725)]();
  }
  getCamera() {
    return this.camera;
  }
  [i(704)]() {
    return this[i(741)];
  }
  [i(745)]() {
    return this.renderer;
  }
  setupRenderer() {
    const t = i;
    this[t(503)] = new l.WebGLRenderer({ canvas: this[t(531)], antialias: !![], powerPreference: t(802), failIfMajorPerformanceCaveat: !![] }), this[t(503)][t(551)][t(732)] = !![], this[t(692)][t(710)][t(806)](), this[t(503)][t(627)](this[t(671)], this[t(637)]), this.renderer[t(817)] = l.ReinhardToneMapping, this[t(503)][t(498)] = Math.pow(this.bloomParams[t(838)], 4), this.renderer[t(752)] = 4;
  }
  [i(725)]() {
    const t = i, e = new F(this[t(741)], this[t(692)]), x = new X(new l.Vector2(this[t(671)], this.height), this.bloomParams[t(638)], this[t(640)][t(565)], this[t(640)][t(810)]);
    x[t(838)] = this[t(640)][t(838)], x[t(810)] = this[t(640)][t(810)], x[t(638)] = this[t(640)][t(638)], x[t(565)] = this[t(640)].radius, this[t(737)] = new N(this[t(503)]), this[t(737)][t(627)](this[t(671)], this[t(637)]), this[t(737)][t(757)](e), this[t(737)][t(757)](x);
  }
  [i(466)]() {
    const t = i;
    this[t(671)] = this[t(531)].scrollWidth, this[t(637)] = this[t(531)].scrollHeight, this[t(692)][t(558)] = this[t(671)] / this[t(637)], this[t(692)][t(808)](), this[t(503)][t(627)](this[t(671)], this[t(637)]), this[t(589)] && this[t(737)][t(627)](this[t(671)], this[t(637)]);
  }
  [i(744)]() {
    this[i(466)]();
  }
  [i(846)]() {
    const t = i;
    this[t(589)] ? this[t(737)][t(846)]() : this[t(503)][t(846)](this[t(741)], this[t(692)]);
  }
}
const L = new l.Raycaster();
class J extends l.EventDispatcher {
  constructor(t, e, x) {
    const s = i;
    super(), this[s(576)] = t, this[s(557)] = e, this[s(560)] = x, this._selected = null, this._hovered = null, this[s(635)] = [], this[s(827)] = 30, this[s(732)] = !![], this[s(793)] = ![], this[s(636)] = window[s(735)] / 2, this[s(636)] = window[s(807)] / 2, this[s(548)] = 0, this[s(804)] = this[s(827)], this[s(686)] = this[s(593)](this[s(576)]), this[s(535)] = new l[s(652)](), this[s(843)] = (a) => {
      const n = s;
      if (this[n(732)] !== ![] && (this[n(548)] += 1, this[n(548)] > Number[n(694)] && (this.frame = 0), this.updatePointer(a), L[n(674)](this[n(535)], this[n(557)]), this.intersectableObjects == null && (this[n(686)] = getIntersectableObjects(this._objects)), a.pointerType === n(695) || a.pointerType === "pen" || a.pointerType === n(727)))
        if (this[n(635)].length = 0, L[n(674)](this[n(535)], this[n(557)]), L[n(813)](this[n(686)], ![], this[n(635)]), this[n(635)][n(506)] > 0) {
          let o = this[n(635)][0].object;
          o = this.getHitObject(o.name), this[n(631)] !== o && this[n(631)] !== null && (this.dispatchEvent({ type: n(830), object: this[n(631)] }), this[n(560)].style.cursor = n(543), this[n(631)] = null), this._hovered !== o && (this.dispatchEvent({ type: n(659), object: o }), this[n(560)][n(782)].cursor = n(535), this[n(631)] = o);
        } else
          this._hovered !== null && (this[n(622)]({ type: n(830), object: this[n(631)] }), this[n(560)][n(782)].cursor = n(543), this[n(631)] = null);
    }, this[s(609)] = (a) => {
      const n = s;
      if (this[n(732)] !== ![] && !(typeof a === TouchEvent && a[n(775)][n(506)] > 1)) {
        if (this[n(548)] > Math[n(562)](this.fps * 2, 20)) {
          this.frame = 0;
          return;
        }
        if (this[n(548)] = 0, (this.intersectableObjects == null || this[n(686)] == null) && (this[n(686)] = getIntersectableObjects(this._objects)), this[n(560)][n(782)][n(583)] = "none", this[n(527)](a), this[n(635)][n(506)] = 0, L[n(674)](this[n(535)], this[n(557)]), L[n(813)](this[n(686)], ![], this[n(635)]), this[n(635)][n(506)] > 0) {
          const o = this[n(635)][0].object;
          this[n(647)] = this[n(834)](o.name), this[n(622)]({ type: n(683), object: this[n(647)] }), this[n(631)] = this._selected;
        }
      }
    }, this[s(681)]();
  }
  [i(681)]() {
    const t = i;
    this._domElement.addEventListener(t(472), this[t(843)]), this._domElement[t(774)](t(642), this[t(609)]), this[t(560)][t(774)](t(656), this[t(609)]);
  }
  [i(771)]() {
    const t = i;
    this[t(560)][t(515)]("pointermove", this[t(843)]), this[t(560)][t(515)](t(642), this.onPointerUp), this[t(560)][t(515)](t(656), this[t(609)]), this[t(560)][t(782)][t(829)] = "";
  }
  [i(527)](t) {
    const e = i, x = this._domElement[e(738)]();
    this.pointer.x = (t[e(831)] - x[e(691)]) / x[e(671)] * 2 - 1, this[e(535)].y = -(t.clientY - x[e(724)]) / x[e(637)] * 2 + 1;
  }
  [i(835)]() {
    this[i(771)]();
  }
  [i(768)]() {
    return this._objects;
  }
  [i(593)](t) {
    const e = i, x = [];
    for (let s = 0; s < t[e(506)]; s++) {
      const a = t[s];
      x[e(633)](a[e(800)]);
    }
    return x;
  }
  [i(834)](t) {
    const e = i;
    for (let x = 0; x < this[e(576)].length; x++) {
      const s = this[e(576)][x];
      if (s[e(800)].name === t)
        return s;
    }
    return null;
  }
}
class K {
  constructor(t, e) {
    const x = i;
    CameraControls[x(801)]({ THREE: t }), this.enabled = !![], this[x(604)] = ![], this[x(616)], this[x(517)], this[x(692)], this.targetPosition, this[x(533)], this[x(711)], this[x(684)], this[x(625)] = 0.05, this[x(818)] = 0.05, this.cameraParams = e, this.activeZoneIndex = 0, this[x(496)] = 0, this[x(685)] = 0, this[x(687)] = 512, this[x(497)] = new Array(this[x(687)])[x(777)](0), this[x(762)] = new Array(this[x(687)])[x(777)](0), this[x(728)] = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i[x(519)](navigator[x(651)]), this[x(544)] = this[x(728)] ? 1.5 : 3, this[x(592)] = new l[x(652)]();
  }
  [i(462)](t, e, x, s, a, n) {
    const o = i;
    this[o(503)] = t, this[o(692)] = e, this[o(711)] = x, this[o(533)] = s, this[o(690)] = a, this.hoverOffCallback = n, this[o(684)] = this[o(711)][o(751)](this[o(629)]), this[o(619)](), this[o(657)](), this.setupRaycaster(), this[o(712)]();
  }
  setupGyro() {
    const t = i;
    if (this[t(456)][t(797)])
      try {
        let e = new Gyroscope({ frequency: 15 });
        e.addEventListener("reading", (x) => {
          const s = t;
          this.tiltXArr[s(633)](e.y * 2), this[s(762)][s(633)](e.x * 2), this.tiltX = S.average(this[s(497)]), this[s(685)] = S.average(this.tiltYArr), this[s(497)][s(506)] > this[s(687)] && (this[s(497)][s(726)](), this[s(762)][s(726)]());
        }), e[t(794)]();
      } catch (e) {
        console.log(t(698), e);
      }
  }
  [i(657)]() {
    const t = i;
    this[t(692)][t(822)][t(522)](this[t(684)][t(706)], 1), this[t(692)][t(536)](this.activeSceneZone[t(541)]), this[t(654)](this.fitCameraOffset), this[t(517)] && this[t(517)].dispose(), this.controls = new CameraControls(this.camera, this[t(503)][t(556)]), this[t(517)][t(587)] = 0.1, this[t(634)]();
  }
  [i(634)]() {
    const t = i;
    this[t(456)][t(597)] !== !![] && (this[t(517)][t(743)][t(572)] = CameraControls.ACTION[t(504)], this.controls[t(775)][t(715)] = CameraControls[t(512)].TOUCH_ZOOM, this[t(517)][t(564)] = this[t(517)][t(525)] + this[t(818)], this[t(517)].minAzimuthAngle = this.controls[t(525)] - this[t(818)], this[t(517)].maxPolarAngle = this.controls.polarAngle + this[t(818)], this[t(517)][t(510)] = this[t(517)].polarAngle - this[t(818)], this.controls[t(756)] = this[t(517)][t(492)] * 2, this.controls[t(719)] = this[t(517)][t(492)] * 2, this[t(592)] = new l[t(652)](this.controls[t(525)], this[t(517)][t(591)]));
  }
  setupRaycaster() {
    const t = i;
    this.raycastManager && this.raycastManager[t(835)]();
    const e = this[t(711)].getInteractablesByZone(this[t(684)][t(552)]);
    this.raycastManager = new J(e, this.camera, this.renderer[t(556)]), this[t(616)][t(774)]("pointerdown", this[t(530)][t(840)](this)), this.raycastManager[t(774)](t(659), this[t(842)][t(840)](this)), this[t(616)][t(774)](t(830), this[t(476)][t(840)](this));
  }
  [i(675)]() {
    const t = i;
    this.activeZoneIndex += 1, this.sceneWrapper[t(791)][t(506)] <= this[t(629)] && (this[t(629)] = 0), this[t(844)](this[t(629)]);
  }
  changeSceneZoneByIndex(t, e = 0.01) {
    const x = i, s = this[x(711)][x(751)](t);
    this[x(629)] = t, this[x(612)](s, e);
  }
  [i(748)](t, e = 0.01) {
    const x = i, s = this.sceneWrapper.getSceneZoneByName(t);
    this[x(629)] = s[x(491)], this[x(612)](s.zoneBox, e);
  }
  [i(612)](t, e = 0.01) {
    const x = i;
    this[x(684)] = t;
    const s = this.fitCameraToZone(this.fitCameraOffset);
    this[x(682)](![]), this[x(559)](t[x(706)], t.lookAtTarget, s, e)[x(624)](() => {
      const a = x;
      this[a(517)].saveState(), this[a(634)](), this[a(682)](!![]);
    }), this[x(716)]();
  }
  fitCameraToZone(t = 3) {
    const e = i, x = Math.max(this[e(684)][e(670)].x, this[e(684)][e(670)].y, this.activeSceneZone.lookAtTargetSize.z), s = x / (2 * Math[e(750)](Math.PI * this.camera.fov / 360)), a = s / this[e(692)][e(558)], n = t * Math[e(590)](s, a), o = this[e(684)][e(541)][e(526)]()[e(753)](this[e(692)][e(822)])[e(630)]()[e(567)](n);
    return this[e(692)][e(822)][e(459)](this.activeSceneZone[e(541)])[e(753)](o), this[e(692)][e(536)](this.activeSceneZone.lookAtTarget), this.camera[e(822)].distanceTo(this.activeSceneZone[e(541)]);
  }
  [i(682)](t) {
    const e = i;
    this.enabled = t, this[e(616)][e(732)] = t, this[e(517)].enabled = t;
  }
  [i(534)](t) {
    const e = i;
    this[e(604)] = t, this[e(732)] = !t, this[e(616)][e(732)] = !t;
  }
  [i(712)](t = !![]) {
    const e = i;
    this.enabled && (this[e(508)](this[e(684)][e(706)], t), this.setLookAt(this[e(684)][e(706)], this[e(684)][e(541)], t), this[e(517)].reset(t));
  }
  setDampFactor(t = 0.05) {
    const e = i;
    this[e(517)][e(837)] = t * 50;
  }
  setZoom(t, e = !![]) {
    const x = i;
    this[x(517)][x(701)](t, e);
  }
  [i(754)](t, e, x = !![]) {
    const s = i;
    return this.controls[s(754)](t.x, t.y, t.z, e.x, e.y, e.z, x);
  }
  [i(508)](t, e = !![]) {
    const x = i;
    return this[x(517)][x(537)](t.x, t.y, t.z, !![]);
  }
  setCameraOffset(t) {
    const e = i;
    this[e(692)].filmOffset = t, this[e(692)][e(808)]();
  }
  [i(559)](t, e, x, s = 0.04, a = !![]) {
    const n = i;
    return t = t[n(753)](e)[n(573)](x).add(e), this[n(588)](s), this[n(517)][n(754)](t.x, t.y, t.z, e.x, e.y, e.z, a);
  }
  [i(530)](t) {
    const e = i;
    t[e(676)] === null || !this.enabled || (this[e(616)][e(732)] = ![], this.pointerDownCallback(t.object));
  }
  [i(842)](t) {
    const e = i;
    t[e(676)] !== null && this[e(690)](t.object);
  }
  [i(476)](t) {
    const e = i;
    t[e(676)] !== null && this[e(708)](t[e(676)]);
  }
  [i(470)]() {
    const t = i;
    if (this[t(517)][t(816)] || this.cameraParams.orbit)
      return;
    const e = this[t(517)][t(518)] == 32 || this[t(517)][t(518)] == 1;
    let x = -1, s = 1;
    !e && (this[t(456)].followMouse && this[t(616)][t(535)].x && (this[t(592)].x = this[t(616)][t(535)].x + this[t(517)][t(525)], this.rotationTarget.y = -this[t(616)][t(535)].y + this[t(517)][t(591)], this[t(592)].x = S[t(484)](this[t(592)].x, this[t(517)][t(525)] + x, this[t(517)][t(525)] + s, this[t(517)].minAzimuthAngle, this[t(517)].maxAzimuthAngle), this[t(592)].y = S[t(484)](this[t(592)].y, this[t(517)].polarAngle + x, this[t(517)][t(591)] + s, this[t(517)][t(510)], this[t(517)][t(626)])), this.isMobileDevice && this.cameraParams[t(797)] && (this.rotationTarget.x = this[t(496)] + this[t(517)][t(525)], this.rotationTarget.y = this[t(685)] + this.controls[t(591)]), this[t(517)][t(473)](this.rotationTarget.x, this.rotationTarget.y, ![]));
  }
  update(t) {
    const e = i;
    this[e(517)] !== null && (this[e(616)][e(827)] = t * 1e3, !this.paused && (this[e(470)](), this.controls[e(599)](t)));
  }
}
class Q {
  constructor(t, e) {
    const x = i;
    this[x(772)] = ![], this[x(819)] = "XYZ3d-hidden", this[x(493)] = x(580), this.contentContainer = document.getElementById(t), this[x(653)] = document.getElementById(e), !this[x(474)] && console[x(514)](x(465), t, x(513)), !this[x(653)] && console[x(514)](x(582), e, x(513));
  }
  [i(747)](t, e = null) {
    const x = i;
    this.isOverlayActive = t, t == !![] || this[x(653)][x(613)](), e != null && (this[x(653)][x(613)](), e());
  }
  pushHashURL(t = "", e = !![]) {
    const x = i;
    window[x(499)][x(601)] && e ? window[x(499)][x(601)](null, null, t) : location[x(833)] = t;
  }
  showDynamicHTML(t = !![]) {
    const e = i;
    this[e(772)] = t, t ? (this[e(474)][e(767)][e(673)](this[e(493)]), this.contentContainer[e(767)][e(613)](this[e(819)])) : (this[e(474)][e(767)][e(673)](this[e(819)]), this.contentContainer[e(767)].remove(this[e(493)]), this[e(488)]("", ![]));
  }
  setDynamicHTML(t) {
    const e = i;
    this[e(474)][e(528)] = t;
  }
  [i(679)](t) {
    const e = i;
    let x = e(758);
    this[e(474)].insertAdjacentHTML("beforeend", x), x = this.contentContainer[e(825)](e(740)), x.addEventListener(e(540), () => {
      this[e(641)](![]), t();
    });
  }
  setDynamicContent(t, e, x) {
    const s = i;
    this.setDynamicHTML(t), this[s(679)](e), this[s(488)](x);
  }
  [i(520)](t) {
    window[i(660)](t);
  }
  [i(666)](t) {
    const e = i;
    this[e(474)][e(825)](".XYZ3d-close") && (t(), this[e(474)].innerHTML = "");
  }
}
class c0 {
  constructor(t) {
    const e = i;
    let x = this, s = null, a, n, o, r, d, u, f = null, g, w;
    window[e(523)] = t[e(471)];
    async function D() {
      const c = e;
      s = new V(t[c(714)].canvasID, t[c(692)]), a = new K(l, t.camera), n = new Q(t[c(714)][c(779)], t[c(714)][c(783)]), n[c(747)](!![]);
      const h = s[c(704)]();
      f = s[c(516)]();
      const _ = s[c(745)]();
      r = await new U(h, _, t[c(766)])[c(639)]((v, y, A) => {
        const m = c;
        x[m(658)] && x[m(658)](v, y, Math[m(511)](A));
      }), g = new l[c(845)](), o = new l[c(790)](h);
      const b = r.getLoopingAnimations();
      return T(c(718), b, !![]), a[c(462)](_, f, r, z, O, Z), n[c(747)](![], C), B(), P(), { camera: f, scene: h, renderer: _, sceneWrapper: r };
    }
    function B() {
      const c = e;
      window.onhashchange = function() {
        const h = M;
        location[h(833)] == "" ? n[h(666)](C) : window[h(499)][h(665)] && window[h(499)].back();
      }, window.addEventListener(c(607), () => {
        C();
      }, ![]);
    }
    function P() {
      const c = e;
      requestAnimationFrame(P), !n[c(772)] && (w = g[c(555)](), o.update(w), a[c(599)](w), s.render(), x[c(501)] && x[c(501)](w));
    }
    function C(c = !![]) {
      const h = e;
      s[h(744)](), a[h(712)](c);
    }
    async function T(c, h, _ = ![], k = ![], b = null) {
      function v(A) {
        const m = M;
        return Object[m(693)](A)[m(506)] === 0;
      }
      return v(h) === !![] || !(c in h) ? void 0 : I(h[c], b, _, k);
    }
    async function I(c, h = null, _ = ![], k = ![]) {
      const b = e;
      let v = 0;
      for (let y = 0; y < c.length; y++) {
        const A = c[y], m = o[b(828)](A, h);
        m[b(524)] = l[b(699)], m.stop(), m[b(744)](), m[b(608)] = !![], m.zeroSlopeAtStart = !![], !_ && (m[b(709)](l[b(785)]), m[b(744)]()), m[b(787)] = k, m[b(799)](), A[b(729)] > v && (v = A[b(729)]);
      }
      return new Promise((y) => setTimeout(() => {
        y();
      }, v * 1e3));
    }
    function O(c) {
      const h = e;
      c.raycastTarget == null || !a[h(732)] || (T(h(553), c[h(730)]), x[h(617)] !== null && x[h(617)](c));
    }
    function Z(c) {
      c[e(800)] != null && x.onHoverOffCallback !== null && x.onHoverOffCallback(c);
    }
    async function z(c) {
      const h = e;
      x[h(574)] !== null && x[h(574)](c), a[h(534)](!![]), o[h(598)]();
      const _ = T(h(692), c.animations, ![], ![], f), k = T(h(662), c[h(730)], ![], ![]);
      await Promise[h(764)]([_, k]);
      const b = r.getLoopingAnimations();
      T(h(718), b, !![]), H(c), a.setPaused(![]);
    }
    function H(c) {
      const h = e;
      switch (d = c[h(805)].contentType, u = c[h(805)][h(479)], d) {
        case h(539):
          break;
        case h(486):
          a[h(661)](u);
          break;
        case h(839):
          a[h(748)](u);
          break;
        case h(600):
          n[h(566)](u, C), n[h(641)]();
          break;
        case h(585):
          n[h(520)](u), C();
          break;
      }
      u = null, d = null;
    }
    x.changeSceneZoneByName = function(c, h = 0.01) {
      a[e(748)](c, h);
    }, x[e(675)] = function() {
      a[e(661)]();
    }, x[e(614)] = D, x[e(744)] = C, x[e(574)] = null, x[e(617)] = null, x.onHoverOffCallback = null, x[e(501)] = null, x[e(658)] = null;
  }
}
export {
  c0 as default
};
