function _0x16cb(b,v){const d=_0x2fbb();return _0x16cb=function(w,E){return w=w-460,d[w]},_0x16cb(b,v)}function _0x2fbb(){const b=["orbitCameraTo","UnrealBloomPass_js","lerp","Mesh","activeSceneZone","rotationTarget","Module","iframe not found. Make sure this returns the correct element: document.getElementById(","getRandomRange","visibleSelector","onHoverAnimations","https://unpkg.com/three@0.149.0/examples/jsm/postprocessing/UnrealBloomPass.js","bloomParams","mouseup","defineProperty","set","max","_hovered","scrollHeight","nextSceneZone","backgroundBlurriness","TOUCH_ZOOM","Box3","target","includes","domElements","EventDispatcher","getCenter","hiddenSelector","https://unpkg.com/three@0.149.0/examples/jsm/loaders/EXRLoader.js","onHoverOffCallback","distanceTo","multiplyScalar","getScene","pushHashURL","DEBUG","pointermove","cameraAnimations","getHtmlData","Z3D","getHtml","fromEquirectangular","EXRLoader_js","removeEventListener","AmbientLight","https://unpkg.com/three@0.149.0/examples/jsm/shaders/FXAAShader.js","3977572EgzrhA","log","top","setCameraOffset","PointLightHelper","enableAll","paused","PointLight","spot","setDynamicContent","fitCameraOffset","setModelMatrixData","intensity","showDynamicHTML","update","pointerdown","hoverOverCallback","loadJson","updateSceneZones","pointerDownCallback",");  ","left","nextScene","reset","onClickAnimations","setDynamicHTML","keys","loadingScreenID","environment","updatePointer","buttonNextZone","setDampFactor","fitCameraToZone","zeroSlopeAtStart","minAzimuthAngle","RenderPass_js","gyro","intersectableObjects","object","changeSceneZoneByName","DirectionalLight",".quaternion","getElementById","history","copy","setFromCamera","ROTATE","active","onHoverOff","getLoopingAnimations","getAnimationsFromCSV","changeSceneZoneByIndex","quaternion","pop","getBackgroundModelsByZone","rotation","GLTFLoader_js","createLightContainer","lookAtTarget","Quaternion","debug","remove","setLookAt","getObjects","pointerType","addEXR","AnimationMixer","radius","round","touches","animations","setupRaycaster","getAnimations","pointLight","showLoadingScreen","hoveron","https://cdn.jsdelivr.net/npm/camera-controls/dist/camera-controls.min.js","castShadow","setupCamera","lookAt","resetControlsLimits","parse",".position","material","tracks","get","tiltY","models","fill","clientX","maxAzimuthAngle","insertAdjacentHTML","pow","setSize","frame","zeroSlopeAtEnd","userData","tiltYArr","deactivate","high-performance","Object3D","EXRLoader","https://unpkg.com/three@0.147.0/examples/js/libs/draco/","random","raycastManager","wrappedModels","json","buttonZone","Camera","color","innerWidth","wrappedSceneZones","loadModel","finalComposer","auto","lights","element","forEach","reading","size","hash","lookAtTargetBox","distance","PerspectiveCamera","classList","init","lookAtTargetSize","touchend","maxGyroSignals","jsonPath","freeze","maxPolarAngle",".z3d-close","beforeend","polarAngle","onHoverOverCallback","rotateCamera","receiveShadow","push","model","loadingScreen not found. Make sure this returns the correct element: document.getElementById(","addLighting","postEffects","THREE","halfWindowWidth","_domElement","onPointerMove","gltfLoader","addEventListener","hoveroff","normalize","ambientLight","enabled","querySelector","background","name","index","contentType","getSceneWrapper","getInteractables","path","Scene","add","onPointerUp","dispose","isPostEffectsEnabled","activeZoneIndex","exr","undefined","setupRenderer","backgroundIntensity",'<div id="z3d-close-btn" class="z3d-close-btn"><span>âœ•</span',"getIntersectableObjects","play","interactables","interactablesContent","touchAction","mouseButtons","loadingScreen","fps","moveTo","getAnimationTrack","isMobileDevice","UnrealBloomPass","link","https://unpkg.com/three@0.149.0/examples/jsm/loaders/GLTFLoader.js","raycastTarget","clientY","children","wrappedAnimations","hoverOffCallback","DRACOLoader_js","tiltXArr","function","touch","defaultDampFactor","_objects","style","gammaFactor","tiltX","PMREMGenerator","length","_selected","RGBELoader","GLTFLoader","orbit","boxCenter","_intersections","iframeID","toneMappingExposure","setDRACOLoader","getCamera","EffectComposer","directionalLight","onWindowResized",'"></iframe>',"blendMode","type","followMouse","then","getModel","MAX_SAFE_INTEGER","onhashchange","error","addAmbientLight","activate","scale","resetCamera","getInteractableModelsByZone","setInputActive","values","click","addDynamicCloseButton","setupGyro","zoomTo","getSceneZoneByIndex","loopAnimations","Vector2","content","AxesHelper","Vector3","aspect","build","height","addHDR","686384VnPYhx","setDecoderPath","smoothTime",'<iframe id="z3d-fullscreen" src="',"setLoop","onProgressLoading","sceneWrapper","duration","animation","DirectionalLightHelper","stop","closeDynamicContent","onUpdate","width","getRenderer","maxDistance","min","getSize","position","addDirectionalLight","getSceneZoneByName","Group","strength","cursor","iframe","player","getCameraBoundsObject","9oBfJSV","ReinhardToneMapping","texture","minStaticFrames","https://unpkg.com/three@0.149.0/examples/jsm/postprocessing/ShaderPass.js","canvas","The gryto motion sensor is not supported on this device.","setup","onClick","azimuthAngle","525168hymlUl","bgMesh","onHoverOver","dispatchEvent","toStringTag","bloomPass","getAnimation","onHover","changeCameraZone","createModelContainer","z3d-visible","isOverlayActive","exposure","render","camera","mouse","gltf","moveCamera","https://unpkg.com/three@0.149.0/examples/jsm/postprocessing/EffectComposer.js","4399269UJKmhV","layers","getRaycastTarget","#z3d-close-btn","1275666MeuWUJ","average","Missing raycast target for: ","jsonData","setPaused","pointer","innerHTML","getDelta","load","getOwnPropertyDescriptor","688486bLLZiP","An error happened ","clipAction","onPointerDown","transformGroup","total","right","pen","wrapScene","getRandomIntRange","looping","addGLTFModel","BackSide","pushState","zoneBox","defaultRotationDistance","map","normalBias","fov","zone","controls","cameraParams","minPolarAngle","default","https://unpkg.com/three@0.149.0/examples/jsm/loaders/RGBELoader.js","Raycaster","start","open","Clock","setLength","userAgent","openLink","scene","canvasID","intersectObjects","light","onPointerDownCallback","clone","renderer","domElement","getInteractableObject","Cache","processModel","compileEquirectangularShader","_camera","bind","amd","contentContainer","threshold","shadowMap","EquirectangularReflectionMapping","1441020pmjafr","all","https://unpkg.com/three@0.149.0/examples/jsm/loaders/DRACOLoader.js","https://unpkg.com/three@0.149.0/examples/jsm/postprocessing/RenderPass.js","gltf children :>> ","https://unpkg.com/three/build/three.module.js","addPass","getHitObject","getBoundingBox"];return _0x2fbb=function(){return b},_0x2fbb()}(function(b,v){const d=_0x16cb,w=b();for(;[];)try{if(-parseInt(d(682))/1+parseInt(d(715))/2*(-parseInt(d(672))/3)+parseInt(d(821))/4+parseInt(d(766))/5+parseInt(d(705))/6+parseInt(d(701))/7+parseInt(d(645))/8===v)break;w.push(w.shift())}catch{w.push(w.shift())}})(_0x2fbb,651576),function(b,v){const d=_0x16cb;typeof exports===d(859)&&typeof module!==d(568)?module.exports=v(require(d(771)),require(d(585)),require(d(768)),require(d(739)),require(d(804)),require(d(786)),require("https://unpkg.com/three@0.149.0/examples/jsm/postprocessing/RenderPass.js"),require(d(700)),require(d(676)),require("https://unpkg.com/three@0.149.0/examples/jsm/shaders/FXAAShader.js"),require(d(476))):typeof define===d(593)&&define[d(761)]?define([d(771),d(585),"https://unpkg.com/three@0.149.0/examples/jsm/loaders/DRACOLoader.js",d(739),d(804),d(786),d(769),d(700),d(676),d(820),d(476)],v):(b=typeof globalThis!==d(568)?globalThis:b||self,b[d(814)]=v(b[d(543)],b[d(877)],b[d(591)],b.RGBELoader_js,b[d(817)],b[d(776)],b[d(856)],b.EffectComposer_js))}(this,function(b,v,d,w,E,O,D,I){"use strict";const i=_0x16cb;function R(_){const t=_0x16cb,e=Object.create(null,{[Symbol[t(686)]]:{value:t(781)}});if(_){for(const x in _)if(x!==t(738)){const s=Object[t(714)](_,x);Object[t(789)](e,x,s[t(485)]?s:{enumerable:!![],get:()=>_[x]})}}return e[t(738)]=_,Object[t(530)](e)}const l=R(b);class z{static[i(783)](t,e){return Math[i(503)]()*(e-t)+t}static[i(724)](t,e){const x=i;return Math[x(468)](Math[x(503)]()*(e-t)+t)}static quaternionToVector3(t,e,x,s){const o=t+t,n=e+e,a=x+x,r=t*n,f=t*a,m=e*a,u=s*o,A=s*n,C=s*a;return{x:r-C,y:m+u,z:f-A}}static[i(731)](t,e,x,s,o){return(t-e)*(o-s)/(x-e)+s}static average(t){const e=i;let x=0;return t[e(517)](s=>{x+=s}),x/t[e(601)]}}class Z{constructor(t,e,x){const s=i;this.animations=x,this[s(487)]=t,this.lights=e,this[s(505)]={interactables:[],bg:[],player:null},this[s(589)]={looping:[],onClick:[],onHover:[],camera:[]},this[s(511)]=[],this[s(723)](this[s(487)]),this[s(839)](this[s(511)])}[i(723)](t){const e=i,x={interactables:[],bgMesh:[],player:null},s=[];for(let o=0;o<t[e(601)];o++){const n=t[o],a=n[e(539)].userData;let r={};const f=this.getAnimations(a,n.name);switch(a[e(617)]){case"interactable":r=this[e(755)](n,a,f),x.interactables[e(538)](r);break;case"cameraBounds":r=this[e(671)](n,a),s[e(538)](r);break;case"bgMesh":x[e(683)].push(n.model);break;case"raycastMesh":x[e(683)][e(538)](n[e(539)]);break;case e(670):x[e(670)]=n[e(539)];break}}this[e(505)]=x,this[e(511)]=s}[i(839)](t){const e=i,x=[...t];for(let s=0;s<x[e(601)];s++){const o=x[s],n=o.position,a=this[e(628)](o.zone);a[e(601)]<=0&&this[e(875)](o.zone).forEach(A=>{a[e(538)](A)});const r=this[e(774)](a),f=new l.Vector3;r[e(802)](f);const m=new l[e(640)];r[e(662)](m),x[s].boxCenter=n,x[s][e(521)]=r,x[s][e(526)]=m,x[s].lookAtTarget=f}this[e(511)]=x}getSceneZoneByIndex(t){let e=null;return this.wrappedSceneZones.forEach(x=>{x[_0x16cb(556)]===t&&(e=x)}),e}[i(665)](t){const e=i;let x=null,s=null;return this.wrappedSceneZones[e(517)](o=>{o[e(734)]===t&&(x=o)}),{zoneBox:x,index:s}}getLoopingAnimations(){const t=i,e={looping:[]};return this[t(589)].looping[t(517)](x=>{const s=t;x[s(470)][s(517)](o=>{const n=s;e[n(725)][n(538)](o)})}),e}getWrappedAnimations(){return this[i(589)]}getPlayer(){const t=i;return this[t(505)][t(670)]}[i(559)](){return this[i(505)].interactables}getInteractablesByZone(t){const e=i,x=[];for(let s=0;s<this[e(505)][e(574)].length;s++){const o=this[e(505)][e(574)][s];o.zone===t&&x[e(538)](o)}return x}getInteractableModelsByZone(t){const e=i,x=[];for(let s=0;s<this.wrappedModels[e(574)][e(601)];s++){const o=this[e(505)][e(574)][s];o[e(734)]===t&&x.push(o.element[e(539)])}return x}[i(875)](t){const e=i,x=[];for(let s=0;s<this[e(505)].bgMesh[e(601)];s++){const o=this[e(505)][e(683)][s];o[e(617)]===e(666)?o.children[e(517)](n=>{const a=e;o.userData[a(734)]===t&&x.push(n)}):o[e(496)][e(734)]===t&&x[e(538)](o)}return x}getBoundingBox(t){const e=i,x=new l[e(797)];t[e(617)]===e(666)&&(t=[...t[e(588)]]);for(let s=0;s<t[e(601)];s++){const o=t[s];x.expandByObject(o)}return x}[i(620)](t){const e=i;for(let x=0;x<this[e(487)][e(601)];x++){const s=this.models[x].model;if(s[e(555)]===t)return s}return null}[i(688)](t){const e=i;for(let x=0;x<this[e(470)][e(601)];x++){const s=this[e(470)][x];if(s[e(555)]===t)return s}return null}getAnimationsFromCSV(t){const e=i,x=t.split(","),s=[];for(let o=0;o<x[e(601)];o++){const n=x[o];s[e(538)](this[e(688)](n))}return s}[i(581)](t,e){const x=i;for(let s=0;s<t[x(484)][x(601)];s++)if(t.tracks[s][x(555)]===e)return t[x(484)][s];return null}getCameraAnimationStart(t){const e=i,x={position:null,rotation:null};for(let s=0;s<t[e(696)].length;s++){const o=t.camera[s];for(let n=0;n<o.tracks[e(601)];n++){const a=o[e(484)][n];if(a[e(555)][e(799)](e(482)))x[e(663)]=new l.Vector3(a[e(630)][0],a[e(630)][1],a.values[2]);else if(a[e(555)].includes(e(862))){const r=new l[e(880)](a[e(630)][0],a[e(630)][1],a[e(630)][2],a.values[3]);x[e(876)]=r}}}return x}[i(472)](t,e){const x=i;let s=null,o=null,n=null,a=null;return x(636)in t&&(s=this[x(871)](t[x(636)]),this.wrappedAnimations[x(725)][x(538)]({name:e,animations:s})),x(845)in t&&(o=this[x(871)](t[x(845)]),this[x(589)][x(680)][x(538)]({name:e,animations:o})),x(785)in t&&(n=this[x(871)](t[x(785)]),this[x(589)][x(689)].push({name:e,animations:n})),x(812)in t&&(a=this[x(871)](t[x(812)]),this.wrappedAnimations[x(696)][x(538)]({name:e,animations:a})),{loopAnimations:s,onHoverAnimations:n,onClickAnimations:o,cameraAnimations:a}}[i(755)](t,e,x){const s=i,o=this[s(703)](e[s(586)]),n={name:t.name,raycastTarget:o,element:t,animations:{},zone:e[s(734)]};return x[s(785)]!==null&&(n[s(470)][s(689)]=x[s(785)]),x[s(845)]!==null&&(n[s(470)][s(680)]=x.onClickAnimations),x[s(812)]!==null&&(n[s(470)][s(696)]=x.cameraAnimations),n}[i(671)](t,e){const x=i,s={zone:e.zone,index:parseInt(e[x(556)],10),position:t.model.position};return t.model.visible=![],s}getRaycastTarget(t){const e=i,x=this[e(620)](t);return x==null?(console.log(e(707),t),null):(x[e(483)].side=l[e(727)],x[e(483)].visible=![],x)}}class H{async[i(481)](t){const e=i;let x=null;return await fetch(t)[e(619)](s=>s[e(506)]())[e(619)](s=>{x=s}),x}}class G{constructor(t,e,x){const s=i;this[s(747)]=t,this[s(753)]=e,this[s(529)]=x,this.sceneWrapper;const o=new d.DRACOLoader;if(o[s(646)](s(502)),this[s(547)]=new v[s(604)],this[s(547)][s(610)](o),window[s(810)]){const n=new l[s(639)](5e3);this[s(747)].add(n)}}[i(558)](){return this.sceneWrapper}async loadJson(){const t=i;return await new H().parse(this[t(529)])}async[i(642)](t){const e=i,x=await this[e(838)](),s=[],o=[],n=await this.addGLTFModel(x[e(487)],t),a=this[e(541)](x[e(515)]);return a[e(538)](...n[e(515)]),s[e(538)](...n[e(487)]),o[e(538)](...n.animations),this[e(651)]=new Z(s,a,o),this[e(651)]}async[i(726)](t,e){const x=i,s=[],o=[],n=[];for(let a=0;a<t.length;a++){const r=t[a],f=function(m){const u=_0x16cb;e(a+1,t.length,100*m.loaded/m[u(720)])};await this[x(512)](r,f).then(m=>{const u=x;window[u(810)]&&console[u(822)](u(770),[...m[u(698)][u(747)].children]);const A=this[u(757)](m);s[u(538)](...A[u(487)]),o[u(538)](...A[u(515)]),n[u(538)](...A[u(470)])})}return{models:s,lights:o,animations:n}}[i(620)](t,e){const x=i;for(let s=0;s<t[x(601)];s++){const o=t[s];if(o.name===e)return o}return null}[i(691)](t,e){const x=i,s={name:t[x(555)],model:t};switch(this[x(832)](t,e),t.castShadow=e[x(477)],t[x(537)]=e[x(537)],t[x(496)][x(617)]){case"bgMesh":break;case"interactable":const o=this.getHtml(e,t[x(555)]);s[x(557)]=o[x(617)],s.content=o.content;break}return s}createLightContainer(t,e){return{type:t,light:e}}[i(757)](t){const e=i,x=[...t[e(698)][e(747)][e(588)]],s=t[e(698)][e(470)],o=[],n=[],a=1e5;for(let r=0;r<x[e(601)];r++){const f=x[r];switch(f[e(702)][e(826)](),f[e(617)]){case e(778):o[e(538)](this[e(691)](f,t[e(708)]));break;case e(666):f[e(588)][e(517)](m=>{const u=e;this[u(832)](m,t[u(708)])}),o.push(this[e(691)](f,t[e(708)]));break;case e(500):o[e(538)](this.createModelContainer(f,t.jsonData));break;case e(828):f[e(833)]/=a,n[e(538)](this[e(878)]("point",f));break;case e(861):f[e(833)]/=a,n[e(538)](this[e(878)]("directional",f));break;case"SpotLight":f[e(833)]/=a,n[e(538)](this[e(878)](e(829),f));break;default:console[e(822)](":>> GLTF element unrecognized:",f);break}this[e(747)][e(562)](f)}return{models:o,lights:n,animations:s}}[i(832)](t,e){const x=i;t[x(663)][x(790)](t[x(663)].x+e[x(663)].x,t[x(663)].y+e[x(663)].y,t[x(663)].z+e[x(663)].z),t[x(873)][x(790)](e[x(876)].x,e[x(876)].y,e[x(876)].z,e.rotation.w),t[x(626)][x(790)](e[x(626)].x,e[x(626)].y,e[x(626)].z)}[i(815)](t,e){const x=i,s=this[x(813)](t,e);if(s[x(638)]!==void 0)return s[x(617)]===x(669)&&(s[x(638)]=x(648)+s[x(638)]+x(615)),s}[i(813)](t,e){const x=i,s=t[x(575)];for(let o=0;o<s.length;o++){const n=s[o];if(n.modelName===e)return n}return null}async[i(512)](t,e){return new Promise(x=>{const s=_0x16cb;return this.gltfLoader.load(".."+t[s(560)],function(o){x({gltf:o,jsonData:t})},e,function(o){console.log(s(716)+o)})})}[i(541)](t){const e=i,x=[];for(let s=0;s<t[e(601)];s++){const o=t[s];let n,a;const r={type:null,light:null};switch(o.type){case"hdr":this[e(644)](o[e(560)],o[e(570)],o[e(795)]);break;case e(567):this[e(465)](o[e(560)],o[e(570)],o[e(795)]);break;case e(473):n=new l[e(640)](o[e(663)].x,o.position.y,o[e(663)].z),a=this.addPointLight(n,o[e(509)],o[e(833)],o[e(519)],o[e(477)]),r[e(617)]=e(473),r.light=a;break;case e(613):n=new l[e(640)](o[e(663)].x,o[e(663)].y,o.position.z);const f=new l[e(640)](o[e(798)].x,o[e(798)].y,o[e(798)].z);a=this[e(664)](n,f,o.color,o.intensity,o[e(477)]),r.type="directionalLight",r[e(750)]=a;break;case e(551):a=this[e(624)](o[e(509)],o.intensity),r[e(617)]=e(551),r.light=a;break}x[e(538)](r)}return x}addPointLight(t,e=0,x=1,s=1500,o=![]){const n=i,a=new l[n(828)](e,x,s);if(a.position[n(777)](t,1),a[n(477)]=o,a[n(732)]=.1,this[n(747)][n(562)](a),window[n(810)]){const r=new l[n(825)](a,.25);this[n(747)].add(r)}return a}[i(624)](t=0,e=1){const x=i,s=new l[x(819)](t,e);return this.scene[x(562)](s),s}[i(664)](t,e=new l[i(640)](0,0,0),x=16777215,s=2,o=![]){const n=i,a=new l.DirectionalLight(x,s);if(a[n(663)][n(777)](t,1),a[n(798)].position[n(777)](e,1),a[n(477)]=o,a.normalBias=.1,this[n(747)].add(a),this.scene[n(562)](a[n(798)]),window[n(810)]){const r=new l[n(654)](a);this[n(747)][n(562)](r)}return a}[i(644)](t,e,x){const s=i,o=new l[s(600)](this[s(753)]);o[s(758)]();let n;new w[s(603)]()[s(713)](".."+t,a=>{const r=s;n=o[r(816)](a)[r(674)],this.scene.environment=n,this.scene[r(554)]=n,this.scene[r(570)]=e,this[r(747)][r(795)]=x,a[r(564)](),o[r(564)]()})}[i(465)](t,e,x){const s=i,o=new l[s(600)](this[s(753)]);o.compileEquirectangularShader();let n;new E[s(501)]()[s(713)](".."+t,a=>{const r=s;a.mapping=l[r(765)],n=o[r(816)](a)[r(674)],this[r(747)][r(849)]=n,this[r(747)][r(554)]=n,this[r(747)][r(570)]=e,this[r(747)][r(795)]=x,a[r(564)](),o[r(564)]()})}}class q{constructor(t,e){const x=i;l[x(756)].enabled=!![],this[x(677)]=document[x(863)](t),!this[x(677)]&&console[x(623)]("Canvas not found. Make sure this returns the correct element: document.GetElementByID(",t,x(841)),this.cameraParams=e,this[x(787)]=e[x(542)].bloom,this[x(658)]=this[x(677)].scrollWidth,this[x(643)]=this[x(677)].scrollHeight,this.camera=new l[x(523)](this[x(736)][x(733)],this[x(658)]/this[x(643)],.1,1e4),this.camera.name=x(508),this[x(747)]=new l[x(561)],this[x(753)],this.finalComposer,this[x(687)],this[x(565)]=e[x(542)][x(552)],this[x(569)](),this[x(565)]&&this.setupPostEffects()}[i(611)](){return this[i(696)]}[i(808)](){return this[i(747)]}[i(659)](){return this[i(753)]}setupRenderer(){const t=i;this[t(753)]=new l.WebGLRenderer({canvas:this[t(677)],antialias:!![],powerPreference:t(499),failIfMajorPerformanceCaveat:!![]}),this[t(753)][t(764)][t(552)]=!![],this[t(696)][t(702)].enableAll(),this[t(753)][t(493)](this[t(658)],this[t(643)]),this.renderer.toneMapping=l[t(673)],this[t(753)][t(609)]=Math[t(492)](this[t(787)].exposure,4),this[t(753)][t(598)]=4}setupPostEffects(){const t=i,e=new D.RenderPass(this[t(747)],this[t(696)]),x=new O[t(583)](new l[t(637)](this[t(658)],this[t(643)]),this[t(787)].strength,this[t(787)][t(467)],this[t(787)][t(763)]);x[t(694)]=this[t(787)][t(694)],x.threshold=this[t(787)].threshold,x[t(667)]=this[t(787)][t(667)],x[t(467)]=this.bloomParams[t(467)],this[t(513)]=new I[t(612)](this.renderer),this[t(513)][t(493)](this[t(658)],this[t(643)]),this[t(513)][t(772)](e),this.finalComposer.addPass(x)}[i(614)](){const t=i;this.width=this.canvas.scrollWidth,this[t(643)]=this[t(677)][t(793)],this[t(696)][t(641)]=this[t(658)]/this.height,this[t(696)].updateProjectionMatrix(),this[t(753)][t(493)](this[t(658)],this[t(643)]),this[t(565)]&&this[t(513)][t(493)](this[t(658)],this[t(643)])}[i(844)](){this[i(614)]()}[i(695)](){const t=i;this[t(565)]?this.finalComposer[t(695)]():this[t(753)][t(695)](this.scene,this[t(696)])}}const P=new l[i(740)];class F extends l[i(801)]{constructor(t,e,x){const s=i;super(),this._objects=t,this._camera=e,this[s(545)]=x,this[s(602)]=null,this[s(792)]=null,this._intersections=[],this.fps=30,this[s(552)]=!![],this[s(719)]=![],this[s(544)]=window[s(510)]/2,this[s(544)]=window.innerHeight/2,this[s(494)]=0,this[s(675)]=this[s(579)],this[s(858)]=this[s(572)](this[s(596)]),this[s(710)]=new l[s(637)],this.onPointerMove=o=>{const n=s;if(this.enabled!==![]&&(this.frame+=1,this[n(494)]>Number[n(621)]&&(this[n(494)]=0),this.updatePointer(o),P[n(866)](this[n(710)],this[n(759)]),this[n(858)]==null&&(this[n(858)]=getIntersectableObjects(this[n(596)])),o[n(464)]===n(697)||o[n(464)]===n(722)||o[n(464)]===n(594)))if(this[n(607)][n(601)]=0,P[n(866)](this[n(710)],this._camera),P[n(749)](this.intersectableObjects,![],this[n(607)]),this._intersections[n(601)]>0){let a=this._intersections[0][n(859)];a=this[n(773)](a[n(555)]),this[n(792)]!==a&&this[n(792)]!==null&&(this.dispatchEvent({type:n(549),object:this._hovered}),this[n(545)][n(597)][n(668)]=n(514),this._hovered=null),this[n(792)]!==a&&(this.dispatchEvent({type:"hoveron",object:a}),this._domElement.style.cursor=n(710),this._hovered=a)}else this[n(792)]!==null&&(this[n(685)]({type:n(549),object:this._hovered}),this[n(545)][n(597)].cursor=n(514),this[n(792)]=null)},this[s(563)]=o=>{const n=s;if(this[n(552)]!==![]&&!(typeof o===TouchEvent&&o[n(469)][n(601)]>1)){if(this[n(494)]>Math[n(661)](this.fps*2,20)){this[n(494)]=0;return}if(this[n(494)]=0,(this[n(858)]==null||this[n(858)]==null)&&(this[n(858)]=getIntersectableObjects(this._objects)),this[n(545)][n(597)][n(576)]="none",this[n(850)](o),this[n(607)][n(601)]=0,P.setFromCamera(this.pointer,this._camera),P[n(749)](this[n(858)],![],this[n(607)]),this._intersections[n(601)]>0){const a=this[n(607)][0][n(859)];this[n(602)]=this[n(773)](a[n(555)]),this.dispatchEvent({type:"pointerdown",object:this._selected}),this._hovered=this[n(602)]}}},this[s(625)]()}[i(625)](){const t=i;this[t(545)][t(548)](t(811),this[t(546)]),this[t(545)][t(548)](t(527),this.onPointerUp),this[t(545)][t(548)](t(788),this[t(563)])}deactivate(){const t=i;this[t(545)][t(818)](t(811),this[t(546)]),this[t(545)][t(818)](t(527),this[t(563)]),this._domElement[t(818)](t(788),this[t(563)]),this[t(545)][t(597)][t(668)]=""}updatePointer(t){const e=i,x=this[e(545)].getBoundingClientRect();this.pointer.x=(t[e(489)]-x[e(842)])/x[e(658)]*2-1,this[e(710)].y=-(t[e(587)]-x[e(823)])/x[e(643)]*2+1}[i(564)](){this[i(498)]()}[i(463)](){return this._objects}getIntersectableObjects(t){const e=i,x=[];for(let s=0;s<t[e(601)];s++){const o=t[s];x.push(o[e(586)])}return x}getHitObject(t){const e=i;for(let x=0;x<this[e(596)][e(601)];x++){const s=this[e(596)][x];if(s[e(586)][e(555)]===t)return s}return null}}class W{constructor(t,e){const x=i;CameraControls.install({THREE:t}),this[x(552)]=!![],this[x(827)]=![],this[x(504)],this[x(735)],this[x(696)],this.targetPosition,this[x(840)],this[x(651)],this[x(779)],this[x(595)]=.05,this[x(730)]=.05,this[x(736)]=e,this[x(566)]=0,this[x(599)]=0,this[x(486)]=0,this[x(528)]=512,this[x(592)]=new Array(this.maxGyroSignals)[x(488)](0),this[x(497)]=new Array(this.maxGyroSignals)[x(488)](0),this[x(582)]=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator[x(745)]),this[x(831)]=this[x(582)]?1.5:3,this[x(780)]=new l.Vector2}[i(525)](t,e,x,s,o,n){const a=i;this[a(753)]=t,this[a(696)]=e,this.sceneWrapper=x,this[a(840)]=s,this[a(837)]=o,this[a(590)]=n,this[a(779)]=this[a(651)][a(635)](this[a(566)]),this[a(633)](),this[a(478)](),this[a(471)](),this[a(627)]()}[i(633)](){const t=i;if(this[t(736)][t(857)])try{let e=new Gyroscope({frequency:15});e[t(548)](t(518),x=>{const s=t;this.tiltXArr[s(538)](e.y*2),this[s(497)][s(538)](e.x*2),this[s(599)]=z[s(706)](this.tiltXArr),this.tiltY=z[s(706)](this[s(497)]),this[s(592)][s(601)]>this.maxGyroSignals&&(this.tiltXArr[s(874)](),this[s(497)][s(874)]())}),e[t(741)]()}catch(e){console[t(822)](t(678),e)}}[i(478)](){const t=i;this[t(696)][t(663)][t(777)](this.activeSceneZone[t(606)],1),this[t(696)].lookAt(this[t(779)].lookAtTarget),this.fitCameraToZone(this[t(831)]),this[t(735)]&&this.controls.dispose(),this[t(735)]=new CameraControls(this[t(696)],this.renderer[t(754)]),this[t(735)].restThreshold=.1,this[t(480)]()}[i(480)](){const t=i;this[t(736)][t(605)]!==!![]&&(this.controls[t(577)][t(721)]=CameraControls.ACTION[t(867)],this[t(735)][t(469)].two=CameraControls.ACTION[t(796)],this[t(735)][t(490)]=this.controls.azimuthAngle+this[t(730)],this[t(735)].minAzimuthAngle=this[t(735)][t(681)]-this.defaultRotationDistance,this[t(735)].maxPolarAngle=this[t(735)][t(534)]+this[t(730)],this[t(735)][t(737)]=this.controls.polarAngle-this[t(730)],this[t(735)][t(660)]=this.controls[t(522)]*2,this.controls.maxZoom=this[t(735)][t(522)]*2,this[t(780)]=new l.Vector2(this[t(735)].azimuthAngle,this[t(735)][t(534)]))}setupRaycaster(){const t=i;this[t(504)]&&this[t(504)].dispose();const e=this.sceneWrapper.getInteractablesByZone(this.activeSceneZone[t(734)]);this[t(504)]=new F(e,this[t(696)],this[t(753)][t(754)]),this[t(504)][t(548)](t(836),this[t(718)][t(760)](this)),this.raycastManager[t(548)](t(475),this[t(684)][t(760)](this)),this.raycastManager[t(548)](t(549),this[t(869)].bind(this))}[i(794)](){const t=i;this.activeZoneIndex+=1,this[t(651)].wrappedSceneZones[t(601)]<=this[t(566)]&&(this[t(566)]=0),this[t(872)](this.activeZoneIndex)}changeSceneZoneByIndex(t,e=.01){const x=i,s=this.sceneWrapper.getSceneZoneByIndex(t);this[x(566)]=t,this[x(690)](s,e)}[i(860)](t,e=.01){const x=i,s=this.sceneWrapper[x(665)](t);this[x(566)]=s[x(556)],this.changeCameraZone(s[x(729)],e)}changeCameraZone(t,e=.01){const x=i;this[x(779)]=t;const s=this[x(853)](this[x(831)]);this.setInputActive(![]),this[x(775)](t.boxCenter,t[x(879)],s,e)[x(619)](()=>{const o=x;this[o(735)].saveState(),this[o(480)](),this[o(629)](!![])}),this[x(471)]()}fitCameraToZone(t=3){const e=i,x=Math[e(791)](this[e(779)][e(526)].x,this[e(779)].lookAtTargetSize.y,this[e(779)][e(526)].z),s=x/(2*Math.atan(Math.PI*this[e(696)].fov/360)),o=s/this.camera.aspect,n=t*Math[e(791)](s,o),a=this[e(779)][e(879)][e(752)]().sub(this[e(696)][e(663)])[e(550)]()[e(807)](n);return this[e(696)][e(663)][e(865)](this.activeSceneZone[e(879)]).sub(a),this[e(696)][e(479)](this[e(779)].lookAtTarget),this[e(696)].position[e(806)](this[e(779)][e(879)])}[i(629)](t){const e=i;this[e(552)]=t,this[e(504)][e(552)]=t,this.controls.enabled=t}[i(709)](t){const e=i;this[e(827)]=t,this[e(552)]=!t,this[e(504)][e(552)]=!t}[i(627)](t=!![]){const e=i;this.enabled&&(this[e(699)](this.activeSceneZone[e(606)],t),this[e(462)](this[e(779)][e(606)],this[e(779)][e(879)],t),this[e(735)][e(844)](t))}[i(852)](t=.05){const e=i;this[e(735)][e(647)]=t*50}setZoom(t,e=!![]){const x=i;this[x(735)][x(634)](t,e)}[i(462)](t,e,x=!![]){const s=i;return this[s(735)][s(462)](t.x,t.y,t.z,e.x,e.y,e.z,x)}moveCamera(t,e=!![]){const x=i;return this[x(735)][x(580)](t.x,t.y,t.z,!![])}[i(824)](t){const e=i;this[e(696)].filmOffset=t,this.camera.updateProjectionMatrix()}[i(775)](t,e,x,s=.04,o=!![]){const n=i;return t=t.sub(e)[n(744)](x)[n(562)](e),this[n(852)](s),this.controls[n(462)](t.x,t.y,t.z,e.x,e.y,e.z,o)}[i(718)](t){const e=i;t[e(859)]===null||!this[e(552)]||(this[e(504)][e(552)]=![],this.pointerDownCallback(t.object))}[i(684)](t){const e=i;t.object!==null&&this.hoverOverCallback(t[e(859)])}[i(869)](t){const e=i;t.object!==null&&this[e(590)](t[e(859)])}[i(536)](){const t=i;if(this[t(735)][t(868)]||this[t(736)][t(605)])return;const e=this[t(735)].currentAction==32||this[t(735)].currentAction==1;let x=-1,s=1;!e&&(this.cameraParams[t(618)]&&this.raycastManager[t(710)].x&&(this[t(780)].x=this[t(504)][t(710)].x+this[t(735)][t(681)],this.rotationTarget.y=-this.raycastManager[t(710)].y+this[t(735)][t(534)],this.rotationTarget.x=z[t(731)](this[t(780)].x,this[t(735)][t(681)]+x,this.controls.azimuthAngle+s,this[t(735)][t(855)],this[t(735)].maxAzimuthAngle),this.rotationTarget.y=z[t(731)](this.rotationTarget.y,this[t(735)][t(534)]+x,this[t(735)][t(534)]+s,this[t(735)].minPolarAngle,this[t(735)][t(531)])),this[t(582)]&&this[t(736)][t(857)]&&(this[t(780)].x=this[t(599)]+this[t(735)].azimuthAngle,this[t(780)].y=this[t(486)]+this[t(735)][t(534)]),this[t(735)].rotateTo(this[t(780)].x,this[t(780)].y,![]))}[i(835)](t){const e=i;this[e(735)]!==null&&(this.raycastManager[e(579)]=t*1e3,!this[e(827)]&&(this[e(536)](),this.controls[e(835)](t)))}}class U{constructor(t,e){const x=i;this[x(693)]=![],this.hiddenSelector="z3d-hidden",this[x(784)]=x(692),this[x(762)]=document.getElementById(t),this[x(578)]=document.getElementById(e),!this[x(762)]&&console[x(623)](x(782),t,x(841)),!this.loadingScreen&&console[x(623)](x(540),e,x(841))}showLoadingScreen(t,e=null){const x=i;this[x(693)]=t,t==!![]||this[x(578)][x(461)](),e!=null&&(this[x(578)].remove(),e())}[i(809)](t="",e=!![]){const x=i;window.history.pushState&&e?window[x(864)][x(728)](null,null,t):location[x(520)]=t}showDynamicHTML(t=!![]){const e=i;this[e(693)]=t,t?(this[e(762)][e(524)][e(562)](this[e(784)]),this[e(762)].classList[e(461)](this.hiddenSelector)):(this.contentContainer[e(524)][e(562)](this[e(803)]),this[e(762)].classList[e(461)](this[e(784)]),this.pushHashURL("",![]))}[i(846)](t){const e=i;this[e(762)][e(711)]=t}[i(632)](t){const e=i;let x=e(571);this[e(762)][e(491)](e(533),x),x=this[e(762)][e(553)](e(704)),x[e(548)](e(631),()=>{this[e(834)](![]),t()})}setDynamicContent(t,e,x){const s=i;this[s(846)](t),this[s(632)](e),this.pushHashURL(x)}openLink(t){window[i(742)](t)}[i(656)](t){const e=i;this[e(762)][e(553)](e(532))&&(t(),this.contentContainer.innerHTML="")}}class X{constructor(t){const e=i;let x=this,s=null,o,n,a,r,f,m,u=null,A,C;window[e(810)]=t[e(460)];async function V(){const c=e;s=new q(t[c(800)][c(748)],t[c(696)]),o=new W(l,t[c(696)]),n=new U(t[c(800)][c(608)],t[c(800)][c(848)]),n.showLoadingScreen(!![]);const h=s[c(808)]();u=s[c(611)]();const y=s[c(659)]();r=await new G(h,y,t[c(529)])[c(642)]((j,k,L)=>{const g=c;x.onProgressLoading&&x[g(650)](j,k,Math[g(468)](L))}),A=new l[c(743)],a=new l[c(466)](h);const p=r[c(870)]();return T(c(725),p,!![]),o[c(525)](y,u,r,Q,Y,K),n[c(474)](![],S),N(),B(),{camera:u,scene:h,renderer:y,sceneWrapper:r}}function N(){const c=e;window[c(622)]=function(){const h=c;location.hash==""?n[h(656)](S):window[h(864)].back&&window[h(864)].back()},window[c(548)]("resize",()=>{S()},![])}function B(){const c=e;requestAnimationFrame(B),!n[c(693)]&&(C=A[c(712)](),a.update(C),o[c(835)](C),s[c(695)](),x[c(657)]&&x.onUpdate(C))}function S(c=!![]){const h=e;s[h(844)](),o[h(627)](c)}async function T(c,h,y=![],M=![],p=null){function j(L){const g=_0x16cb;return Object[g(847)](L)[g(601)]===0}return j(h)===!![]||!(c in h)?void 0:J(h[c],p,y,M)}async function J(c,h=null,y=![],M=![]){const p=e;let j=0;for(let k=0;k<c[p(601)];k++){const L=c[k],g=a[p(717)](L,h);g[p(616)]=l.NoBlending,g[p(655)](),g[p(844)](),g[p(495)]=!![],g[p(854)]=!![],!y&&(g[p(649)](l.LoopOnce),g[p(844)]()),g.clampWhenFinished=M,g[p(573)](),L[p(652)]>j&&(j=L[p(652)])}return new Promise(k=>setTimeout(()=>{k()},j*1e3))}function Y(c){const h=e;c[h(586)]==null||!o[h(552)]||(T(h(689),c[h(470)]),x.onHoverOverCallback!==null&&x[h(535)](c))}function K(c){const h=e;c[h(586)]!=null&&x[h(805)]!==null&&x.onHoverOffCallback(c)}async function Q(c){const h=e;x[h(751)]!==null&&x[h(751)](c),o[h(709)](!![]),a.stopAllAction();const y=T(h(696),c[h(470)],![],![],u),M=T(h(680),c[h(470)],![],![]);await Promise[h(767)]([y,M]);const p=r[h(870)]();T(h(725),p,!![]),$(c),o[h(709)](![])}function $(c){const h=e;switch(f=c.element[h(557)],m=c[h(516)][h(638)],f){case h(653):break;case h(851):o.nextScene(m);break;case h(507):o[h(860)](m);break;case h(669):n[h(830)](m,S),n[h(834)]();break;case h(584):n[h(746)](m),S();break}m=null,f=null}x[e(860)]=function(c,h=.01){o[e(860)](c,h)},x[e(794)]=function(){o[e(843)]()},x[e(679)]=V,x.reset=S,x[e(751)]=null,x.onHoverOverCallback=null,x.onHoverOffCallback=null,x.onUpdate=null,x[e(650)]=null}}return X});
