function _0x55b3(b,k){const d=_0x45fa();return _0x55b3=function(y,D){return y=y-324,d[y]},_0x55b3(b,k)}(function(b,k){const d=_0x55b3,y=b();for(;[];)try{if(-parseInt(d(446))/1+parseInt(d(612))/2+-parseInt(d(613))/3+parseInt(d(552))/4+-parseInt(d(505))/5+-parseInt(d(681))/6+-parseInt(d(377))/7===k)break;y.push(y.shift())}catch{y.push(y.shift())}})(_0x45fa,789247),function(b,k){const d=_0x55b3;typeof exports===d(469)&&typeof module<"u"?module[d(686)]=k(require(d(332)),require(d(373)),require(d(464)),require(d(359)),require("https://unpkg.com/three@0.149.0/examples/jsm/loaders/EXRLoader.js"),require(d(468)),require(d(661)),require(d(567)),require("https://unpkg.com/three@0.149.0/examples/jsm/postprocessing/ShaderPass.js"),require(d(410)),require(d(731))):typeof define===d(632)&&define[d(713)]?define([d(332),d(373),d(464),"https://unpkg.com/three@0.149.0/examples/jsm/loaders/RGBELoader.js",d(556),d(468),d(661),d(567),d(598),"https://unpkg.com/three@0.149.0/examples/jsm/shaders/FXAAShader.js",d(731)],k):(b=typeof globalThis!==d(566)?globalThis:b||self,b[d(595)]=k(b[d(583)],b[d(352)],b[d(526)],b[d(521)],b.EXRLoader_js,b.UnrealBloomPass_js,b[d(693)],b[d(619)]))}(this,function(b,k,d,y,D,O,B,R){"use strict";const i=_0x55b3;function I(g){const t=_0x55b3,e=Object.create(null,{[Symbol[t(366)]]:{value:t(433)}});if(g){for(const x in g)if(x!==t(344)){const s=Object[t(387)](g,x);Object[t(465)](e,x,s[t(746)]?s:{enumerable:!![],get:()=>g[x]})}}return e[t(344)]=g,Object[t(474)](e)}const l=I(b);class T{static[i(428)](t,e){return Math[i(522)]()*(e-t)+t}static[i(651)](t,e){const x=i;return Math[x(535)](Math[x(522)]()*(e-t)+t)}static quaternionToVector3(t,e,x,s){const a=t+t,n=e+e,o=x+x,c=t*n,f=t*o,m=e*o,u=s*a,v=s*n,L=s*o;return{x:c-L,y:m+u,z:f-v}}static[i(699)](t,e,x,s,a){return(t-e)*(a-s)/(x-e)+s}static[i(486)](t){const e=i;let x=0;return t[e(653)](s=>{x+=s}),x/t[e(575)]}}class H{constructor(t,e,x){const s=i;this.animations=x,this.models=t,this.lights=e,this.wrappedModels={interactables:[],bg:[],player:null},this[s(380)]={looping:[],onClick:[],onHover:[],camera:[]},this[s(463)]=[],this[s(594)](this[s(637)]),this.updateSceneZones(this[s(463)])}wrapScene(t){const e=i,x={interactables:[],bgMesh:[],player:null},s=[];for(let a=0;a<t[e(575)];a++){const n=t[a],o=n.model[e(384)];let c={};const f=this[e(536)](o,n[e(684)]);switch(o.type){case"interactable":c=this.getInteractableObject(n,o,f),x[e(439)][e(638)](c);break;case"cameraBounds":c=this.getCameraBoundsObject(n,o),s[e(638)](c);break;case"bgMesh":x[e(334)][e(638)](n[e(399)]);break;case"raycastMesh":x[e(334)][e(638)](n.model);break;case e(662):x.player=n[e(399)];break}}this.wrappedModels=x,this.wrappedSceneZones=s}[i(669)](t){const e=i,x=[...t];for(let s=0;s<x.length;s++){const a=x[s],n=a[e(723)],o=this[e(452)](a.zone);o[e(575)]<=0&&this[e(358)](a[e(569)])[e(653)](v=>{o.push(v)});const c=this[e(357)](o),f=new l[e(534)];c[e(336)](f);const m=new l[e(534)];c[e(724)](m),x[s].boxCenter=n,x[s][e(420)]=c,x[s][e(727)]=m,x[s][e(404)]=f}this[e(463)]=x}getSceneZoneByIndex(t){const e=i;let x=null;return this[e(463)][e(653)](s=>{s.index===t&&(x=s)}),x}[i(385)](t){const e=i;let x=null,s=null;return this[e(463)].forEach(a=>{a[e(569)]===t&&(x=a)}),{zoneBox:x,index:s}}[i(435)](){const t=i,e={looping:[]};return this[t(380)][t(436)][t(653)](x=>{const s=t;x[s(483)][s(653)](a=>{e[s(436)].push(a)})}),e}[i(596)](){return this[i(380)]}getPlayer(){const t=i;return this.wrappedModels[t(662)]}[i(733)](){const t=i;return this[t(355)][t(439)]}[i(635)](t){const e=i,x=[];for(let s=0;s<this[e(355)].interactables[e(575)];s++){const a=this[e(355)][e(439)][s];a.zone===t&&x[e(638)](a)}return x}[i(452)](t){const e=i,x=[];for(let s=0;s<this.wrappedModels[e(439)][e(575)];s++){const a=this.wrappedModels[e(439)][s];a.zone===t&&x.push(a[e(634)][e(399)])}return x}getBackgroundModelsByZone(t){const e=i,x=[];for(let s=0;s<this[e(355)][e(334)][e(575)];s++){const a=this.wrappedModels[e(334)][s];a.type===e(540)?a[e(511)][e(653)](n=>{const o=e;a[o(384)][o(569)]===t&&x.push(n)}):a[e(384)][e(569)]===t&&x[e(638)](a)}return x}[i(357)](t){const e=i,x=new l[e(564)];t[e(683)]===e(540)&&(t=[...t.children]);for(let s=0;s<t[e(575)];s++){const a=t[s];x[e(692)](a)}return x}[i(444)](t){const e=i;for(let x=0;x<this.models[e(575)];x++){const s=this.models[x][e(399)];if(s[e(684)]===t)return s}return null}[i(736)](t){const e=i;for(let x=0;x<this[e(483)][e(575)];x++){const s=this[e(483)][x];if(s.name===t)return s}return null}[i(481)](t){const e=i,x=t[e(394)](","),s=[];for(let a=0;a<x.length;a++){const n=x[a];s.push(this[e(736)](n))}return s}[i(667)](t,e){const x=i;for(let s=0;s<t[x(538)][x(575)];s++)if(t.tracks[s].name===e)return t[x(538)][s];return null}getCameraAnimationStart(t){const e=i,x={position:null,rotation:null};for(let s=0;s<t.camera[e(575)];s++){const a=t.camera[s];for(let n=0;n<a[e(538)][e(575)];n++){const o=a[e(538)][n];if(o.name[e(343)](".position"))x.position=new l.Vector3(o[e(346)][0],o[e(346)][1],o[e(346)][2]);else if(o[e(684)][e(343)](e(740))){const c=new l[e(339)](o[e(346)][0],o[e(346)][1],o[e(346)][2],o[e(346)][3]);x[e(527)]=c}}}return x}[i(536)](t,e){const x=i;let s=null,a=null,n=null,o=null;return x(695)in t&&(s=this.getAnimationsFromCSV(t[x(695)]),this[x(380)][x(436)][x(638)]({name:e,animations:s})),"onClickAnimations"in t&&(a=this[x(481)](t.onClickAnimations),this[x(380)][x(400)][x(638)]({name:e,animations:a})),x(541)in t&&(n=this[x(481)](t[x(541)]),this[x(380)][x(532)][x(638)]({name:e,animations:n})),x(703)in t&&(o=this[x(481)](t[x(703)]),this.wrappedAnimations[x(374)][x(638)]({name:e,animations:o})),{loopAnimations:s,onHoverAnimations:n,onClickAnimations:a,cameraAnimations:o}}[i(438)](t,e,x){const s=i,a=this[s(609)](e[s(498)]),n={name:t.name,raycastTarget:a,element:t,animations:{},zone:e[s(569)]};return x[s(541)]!==null&&(n[s(483)].onHover=x[s(541)]),x[s(656)]!==null&&(n.animations[s(400)]=x[s(656)]),x.cameraAnimations!==null&&(n[s(483)][s(374)]=x[s(703)]),n}[i(429)](t,e){const x=i,s={zone:e[x(569)],index:parseInt(e[x(584)],10),position:t[x(399)][x(723)]};return t[x(399)][x(365)]=![],s}[i(609)](t){const e=i,x=this.getModel(t);return x==null?(console[e(558)](e(710),t),null):(x.material[e(682)]=l.BackSide,x.material.visible=![],x)}}class Z{async[i(392)](t){const e=i;let x=null;return await fetch(t)[e(628)](s=>s[e(614)]())[e(628)](s=>{x=s}),x}}class q{constructor(t,e,x){const s=i;this[s(405)]=t,this[s(599)]=e,this[s(418)]=x,this[s(654)];const a=new d[s(388)];if(a[s(326)]("https://unpkg.com/three@0.147.0/examples/js/libs/draco/"),this[s(721)]=new k[s(329)],this[s(721)][s(389)](a),window[s(640)]){const n=new l[s(494)](5e3);this[s(405)][s(735)](n)}}[i(487)](){return this[i(654)]}async[i(557)](){const t=i;return await new Z()[t(392)](this.jsonPath)}async build(t){const e=i,x=await this[e(557)](),s=[],a=[],n=await this[e(571)](x[e(637)],t),o=this.addLighting(x[e(378)]);return o.push(...n[e(378)]),s.push(...n[e(637)]),a[e(638)](...n[e(483)]),this[e(654)]=new H(s,o,a),this[e(654)]}async[i(571)](t,e){const x=i,s=[],a=[],n=[];for(let o=0;o<t.length;o++){const c=t[o],f=function(m){const u=_0x55b3;e(o+1,t[u(575)],100*m.loaded/m[u(716)])};await this[x(582)](c,f)[x(628)](m=>{const u=x;window[u(640)]&&console[u(558)](u(461),[...m[u(495)].scene[u(511)]]);const v=this[u(382)](m);s.push(...v.models),a[u(638)](...v.lights),n[u(638)](...v[u(483)])})}return{models:s,lights:a,animations:n}}[i(444)](t,e){const x=i;for(let s=0;s<t[x(575)];s++){const a=t[s];if(a[x(684)]===e)return a}return null}[i(412)](t,e){const x=i,s={name:t[x(684)],model:t};switch(this[x(709)](t,e),t[x(515)]=e[x(515)],t.receiveShadow=e[x(488)],t[x(384)][x(683)]){case"bgMesh":break;case"interactable":const a=this[x(454)](e,t[x(684)]);s[x(606)]=a[x(683)],s[x(625)]=a[x(625)];break}return s}[i(447)](t,e){return{type:t,light:e}}[i(382)](t){const e=i,x=[...t.gltf[e(405)][e(511)]],s=t[e(495)][e(483)],a=[],n=[],o=1e5;for(let c=0;c<x[e(575)];c++){const f=x[c];switch(f[e(600)][e(574)](),f[e(683)]){case e(406):a[e(638)](this[e(412)](f,t[e(722)]));break;case e(540):f[e(511)][e(653)](m=>{const u=e;this.setModelMatrixData(m,t[u(722)])}),a[e(638)](this[e(412)](f,t.jsonData));break;case e(715):a[e(638)](this[e(412)](f,t[e(722)]));break;case"PointLight":f.intensity/=o,n[e(638)](this.createLightContainer(e(427),f));break;case e(473):f.intensity/=o,n.push(this[e(447)](e(678),f));break;case e(510):f[e(449)]/=o,n[e(638)](this.createLightContainer("spot",f));break;default:console[e(558)](e(680),f);break}this[e(405)][e(735)](f)}return{models:a,lights:n,animations:s}}[i(709)](t,e){const x=i;t[x(723)][x(497)](t[x(723)].x+e.position.x,t.position.y+e[x(723)].y,t[x(723)].z+e[x(723)].z),t[x(520)][x(497)](e[x(527)].x,e[x(527)].y,e[x(527)].z,e.rotation.w),t[x(353)].set(e[x(353)].x,e[x(353)].y,e[x(353)].z)}[i(454)](t,e){const x=i,s=this.getHtmlData(t,e);if(s[x(625)]!==void 0)return s.type===x(371)&&(s[x(625)]=x(476)+s[x(625)]+'"></iframe>'),s}[i(542)](t,e){const x=i,s=t[x(551)];for(let a=0;a<s.length;a++){const n=s[a];if(n.modelName===e)return n}return null}async[i(582)](t,e){return new Promise(x=>{const s=_0x55b3;return this[s(721)].load(".."+t[s(546)],function(a){x({gltf:a,jsonData:t})},e,function(a){console.log(s(432)+a)})})}[i(701)](t){const e=i,x=[];for(let s=0;s<t[e(575)];s++){const a=t[s];let n,o;const c={type:null,light:null};switch(a.type){case e(658):this[e(411)](a.path,a[e(645)],a[e(338)]);break;case e(700):this[e(375)](a.path,a[e(645)],a[e(338)]);break;case"pointLight":n=new l[e(534)](a.position.x,a[e(723)].y,a[e(723)].z),o=this[e(698)](n,a.color,a[e(449)],a.size,a[e(515)]),c[e(683)]=e(643),c[e(477)]=o;break;case e(525):n=new l[e(534)](a[e(723)].x,a[e(723)].y,a.position.z);const f=new l[e(534)](a[e(592)].x,a[e(592)].y,a[e(592)].z);o=this[e(361)](n,f,a.color,a[e(449)],a[e(515)]),c[e(683)]=e(525),c[e(477)]=o;break;case e(450):o=this[e(416)](a[e(363)],a[e(449)]),c.type="ambientLight",c[e(477)]=o;break}x[e(638)](c)}return x}[i(698)](t,e=0,x=1,s=1500,a=![]){const n=i,o=new l[n(381)](e,x,s);if(o.position[n(415)](t,1),o.castShadow=a,o[n(459)]=.1,this[n(405)].add(o),window[n(640)]){const c=new l[n(537)](o,.25);this[n(405)].add(c)}return o}[i(416)](t=0,e=1){const x=i,s=new l[x(440)](t,e);return this.scene[x(735)](s),s}[i(361)](t,e=new l[i(534)](0,0,0),x=16777215,s=2,a=![]){const n=i,o=new l.DirectionalLight(x,s);if(o[n(723)][n(415)](t,1),o.target.position[n(415)](e,1),o[n(515)]=a,o[n(459)]=.1,this[n(405)][n(735)](o),this[n(405)][n(735)](o[n(592)]),window.DEBUG){const c=new l.DirectionalLightHelper(o);this[n(405)][n(735)](c)}return o}[i(411)](t,e,x){const s=i,a=new l.PMREMGenerator(this[s(599)]);a[s(705)]();let n;new y[s(690)]()[s(396)](".."+t,o=>{const c=s;n=a[c(539)](o)[c(422)],this.scene.environment=n,this.scene.background=n,this[c(405)][c(645)]=e,this[c(405)][c(338)]=x,o[c(448)](),a[c(448)]()})}[i(375)](t,e,x){const s=i,a=new l[s(649)](this[s(599)]);a[s(705)]();let n;new D[s(544)]()[s(396)](".."+t,o=>{const c=s;o[c(593)]=l.EquirectangularReflectionMapping,n=a.fromEquirectangular(o)[c(422)],this[c(405)].environment=n,this[c(405)].background=n,this.scene[c(645)]=e,this[c(405)][c(338)]=x,o.dispose(),a[c(448)]()})}}class G{constructor(t,e){const x=i;l[x(457)].enabled=!![],this[x(577)]=document[x(615)](t),!this[x(577)]&&console.error(x(737),t,");  "),this.cameraParams=e,this.bloomParams=e.postEffects[x(517)],this[x(576)]=this[x(577)].scrollWidth,this[x(514)]=this.canvas[x(694)],this[x(374)]=new l[x(639)](this[x(641)][x(455)],this[x(576)]/this[x(514)],.1,1e4),this[x(374)][x(684)]=x(670),this[x(405)]=new l[x(516)],this[x(599)],this[x(573)],this[x(604)],this[x(466)]=e[x(591)][x(578)],this[x(512)](),this[x(466)]&&this[x(395)]()}getCamera(){return this[i(374)]}getScene(){return this.scene}[i(743)](){return this[i(599)]}[i(512)](){const t=i;this[t(599)]=new l[t(717)]({canvas:this[t(577)],antialias:!![],powerPreference:t(719),failIfMajorPerformanceCaveat:!![]}),this[t(599)][t(370)][t(578)]=!![],this[t(374)][t(600)].enableAll(),this[t(599)][t(524)](this[t(576)],this[t(514)]),this[t(599)][t(708)]=l[t(562)],this[t(599)][t(677)]=Math[t(409)](this[t(559)].exposure,4),this[t(599)].gammaFactor=4}[i(395)](){const t=i,e=new B[t(728)](this[t(405)],this[t(374)]),x=new O.UnrealBloomPass(new l[t(580)](this[t(576)],this.height),this[t(559)][t(426)],this[t(559)][t(523)],this[t(559)][t(484)]);x[t(350)]=this[t(559)][t(350)],x.threshold=this[t(559)][t(484)],x[t(426)]=this.bloomParams[t(426)],x[t(523)]=this[t(559)][t(523)],this[t(573)]=new R.EffectComposer(this.renderer),this.finalComposer[t(524)](this[t(576)],this.height),this[t(573)].addPass(e),this[t(573)][t(351)](x)}[i(500)](){const t=i;this[t(576)]=this.canvas[t(347)],this[t(514)]=this.canvas[t(694)],this[t(374)][t(431)]=this.width/this[t(514)],this[t(374)][t(419)](),this.renderer[t(524)](this[t(576)],this[t(514)]),this.isPostEffectsEnabled&&this[t(573)][t(524)](this[t(576)],this.height)}reset(){this.onWindowResized()}render(){const t=i;this[t(466)]?this[t(573)][t(340)]():this[t(599)].render(this.scene,this.camera)}}const P=new l[i(702)];class F extends l.EventDispatcher{constructor(t,e,x){const s=i;super(),this[s(627)]=t,this[s(430)]=e,this[s(720)]=x,this[s(650)]=null,this[s(533)]=null,this._intersections=[],this[s(442)]=30,this.enabled=!![],this[s(687)]=![],this.halfWindowWidth=window[s(421)]/2,this.halfWindowWidth=window.innerHeight/2,this[s(696)]=0,this.minStaticFrames=this[s(442)],this[s(460)]=this[s(453)](this._objects),this[s(570)]=new l[s(580)],this[s(360)]=a=>{const n=s;if(this[n(578)]!==![]&&(this[n(696)]+=1,this.frame>Number[n(341)]&&(this.frame=0),this[n(379)](a),P[n(550)](this[n(570)],this[n(430)]),this[n(460)]==null&&(this[n(460)]=getIntersectableObjects(this[n(627)])),a.pointerType===n(462)||a[n(706)]===n(711)||a.pointerType===n(548)))if(this._intersections[n(575)]=0,P[n(550)](this[n(570)],this[n(430)]),P[n(664)](this[n(460)],![],this._intersections),this._intersections[n(575)]>0){let o=this[n(502)][0][n(469)];o=this[n(333)](o[n(684)]),this[n(533)]!==o&&this[n(533)]!==null&&(this[n(714)]({type:n(630),object:this[n(533)]}),this[n(720)][n(451)][n(697)]=n(601),this[n(533)]=null),this[n(533)]!==o&&(this[n(714)]({type:n(324),object:o}),this[n(720)][n(451)][n(697)]="pointer",this[n(533)]=o)}else this[n(533)]!==null&&(this[n(714)]({type:n(630),object:this._hovered}),this[n(720)][n(451)][n(697)]=n(601),this[n(533)]=null)},this[s(368)]=a=>{const n=s;if(this[n(578)]!==![]&&!(typeof a===TouchEvent&&a.touches[n(575)]>1)){if(this[n(696)]>Math.min(this[n(442)]*2,20)){this[n(696)]=0;return}if(this[n(696)]=0,(this[n(460)]==null||this.intersectableObjects==null)&&(this[n(460)]=getIntersectableObjects(this._objects)),this._domElement.style[n(617)]=n(572),this.updatePointer(a),this[n(502)][n(575)]=0,P[n(550)](this[n(570)],this[n(430)]),P.intersectObjects(this[n(460)],![],this[n(502)]),this[n(502)].length>0){const o=this._intersections[0][n(469)];this._selected=this.getHitObject(o[n(684)]),this[n(714)]({type:n(648),object:this[n(650)]}),this._hovered=this[n(650)]}}},this.activate()}[i(644)](){const t=i;this[t(720)].addEventListener("pointermove",this[t(360)]),this[t(720)][t(589)](t(354),this[t(368)]),this[t(720)][t(589)](t(530),this.onPointerUp)}[i(691)](){const t=i;this[t(720)][t(475)]("pointermove",this[t(360)]),this[t(720)][t(475)]("touchend",this[t(368)]),this[t(720)].removeEventListener(t(530),this[t(368)]),this._domElement[t(451)][t(697)]=""}updatePointer(t){const e=i,x=this[e(720)][e(674)]();this[e(570)].x=(t[e(441)]-x[e(356)])/x[e(576)]*2-1,this[e(570)].y=-(t[e(560)]-x[e(742)])/x[e(514)]*2+1}[i(448)](){this[i(691)]()}[i(398)](){return this._objects}getIntersectableObjects(t){const e=i,x=[];for(let s=0;s<t.length;s++){const a=t[s];x.push(a[e(498)])}return x}[i(333)](t){const e=i;for(let x=0;x<this[e(627)][e(575)];x++){const s=this._objects[x];if(s[e(498)][e(684)]===t)return s}return null}}class W{constructor(t,e){const x=i;CameraControls[x(685)]({THREE:t}),this[x(578)]=!![],this[x(672)]=![],this[x(660)],this[x(608)],this[x(374)],this.targetPosition,this.pointerDownCallback,this[x(654)],this[x(597)],this.defaultDampFactor=.05,this[x(588)]=.05,this.cameraParams=e,this[x(369)]=0,this.tiltX=0,this[x(671)]=0,this[x(489)]=512,this[x(485)]=new Array(this[x(489)])[x(707)](0),this[x(655)]=new Array(this[x(489)])[x(707)](0),this.isMobileDevice=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i[x(545)](navigator[x(647)]),this.fitCameraOffset=this[x(504)]?1.5:3,this.rotationTarget=new l[x(580)]}[i(414)](t,e,x,s,a,n){const o=i;this[o(599)]=t,this[o(374)]=e,this[o(654)]=x,this.pointerDownCallback=s,this[o(636)]=a,this[o(390)]=n,this.activeSceneZone=this[o(654)][o(467)](this[o(369)]),this[o(730)](),this[o(590)](),this[o(345)](),this[o(689)]()}setupGyro(){const t=i;if(this[t(641)][t(342)])try{let e=new Gyroscope({frequency:15});e[t(589)](t(413),x=>{const s=t;this[s(485)][s(638)](e.y*2),this[s(655)][s(638)](e.x*2),this[s(679)]=T[s(486)](this.tiltXArr),this[s(671)]=T[s(486)](this[s(655)]),this[s(485)][s(575)]>this[s(489)]&&(this[s(485)].pop(),this.tiltYArr.pop())}),e[t(631)]()}catch(e){console[t(558)]("The gryto motion sensor is not supported on this device.",e)}}[i(590)](){const t=i;this[t(374)].position[t(415)](this[t(597)][t(328)],1),this[t(374)][t(423)](this[t(597)][t(404)]),this.fitCameraToZone(this[t(480)]),this[t(608)]&&this[t(608)][t(448)](),this[t(608)]=new CameraControls(this[t(374)],this[t(599)][t(741)]),this[t(608)][t(745)]=.1,this[t(602)]()}[i(602)](){const t=i;this.cameraParams[t(587)]!==!![]&&(this[t(608)][t(499)][t(729)]=CameraControls[t(470)][t(513)],this[t(608)][t(605)][t(623)]=CameraControls[t(470)].TOUCH_ZOOM,this[t(608)][t(445)]=this[t(608)][t(508)]+this[t(588)],this.controls[t(364)]=this[t(608)][t(508)]-this.defaultRotationDistance,this[t(608)].maxPolarAngle=this[t(608)][t(734)]+this.defaultRotationDistance,this[t(608)][t(579)]=this.controls[t(734)]-this.defaultRotationDistance,this.controls[t(744)]=this.controls.distance*2,this[t(608)][t(676)]=this[t(608)][t(622)]*2,this[t(642)]=new l[t(580)](this[t(608)].azimuthAngle,this[t(608)].polarAngle))}[i(345)](){const t=i;this[t(660)]&&this.raycastManager[t(448)]();const e=this.sceneWrapper[t(635)](this[t(597)][t(569)]);this[t(660)]=new F(e,this[t(374)],this.renderer[t(741)]),this.raycastManager[t(589)](t(648),this[t(518)][t(586)](this)),this[t(660)][t(589)](t(324),this[t(471)].bind(this)),this[t(660)].addEventListener(t(630),this[t(561)][t(586)](this))}[i(554)](){const t=i;this[t(369)]+=1,this[t(654)][t(463)][t(575)]<=this[t(369)]&&(this[t(369)]=0),this.changeSceneZoneByIndex(this.activeZoneIndex)}changeSceneZoneByIndex(t,e=.01){const x=i,s=this[x(654)][x(467)](t);this[x(369)]=t,this.changeCameraZone(s,e)}[i(747)](t,e=.01){const x=i,s=this[x(654)][x(385)](t);this.activeZoneIndex=s[x(584)],this[x(349)](s[x(668)],e)}[i(349)](t,e=.01){const x=i;this.activeSceneZone=t;const s=this.fitCameraToZone(this[x(480)]);this[x(367)](![]),this[x(673)](t[x(328)],t[x(404)],s,e)[x(628)](()=>{const a=x;this.controls[a(407)](),this[a(602)](),this[a(367)](!![])}),this[x(345)]()}[i(362)](t=3){const e=i,x=Math[e(663)](this[e(597)][e(727)].x,this[e(597)][e(727)].y,this[e(597)][e(727)].z),s=x/(2*Math[e(509)](Math.PI*this[e(374)][e(455)]/360)),a=s/this[e(374)][e(431)],n=t*Math[e(663)](s,a),o=this.activeSceneZone[e(404)][e(437)]()[e(646)](this[e(374)][e(723)]).normalize()[e(443)](n);return this[e(374)][e(723)][e(620)](this[e(597)][e(404)])[e(646)](o),this[e(374)][e(423)](this[e(597)][e(404)]),this[e(374)][e(723)][e(493)](this.activeSceneZone[e(404)])}[i(367)](t){const e=i;this[e(578)]=t,this[e(660)].enabled=t,this[e(608)][e(578)]=t}[i(665)](t){const e=i;this[e(672)]=t,this[e(578)]=!t,this.raycastManager[e(578)]=!t}[i(689)](t=!![]){const e=i;this[e(578)]&&(this[e(581)](this[e(597)].boxCenter,t),this[e(425)](this[e(597)].boxCenter,this[e(597)][e(404)],t),this[e(608)].reset(t))}[i(503)](t=.05){const e=i;this[e(608)][e(712)]=t*50}[i(335)](t,e=!![]){const x=i;this[x(608)][x(529)](t,e)}setLookAt(t,e,x=!![]){const s=i;return this.controls[s(425)](t.x,t.y,t.z,e.x,e.y,e.z,x)}[i(581)](t,e=!![]){const x=i;return this[x(608)][x(718)](t.x,t.y,t.z,!![])}[i(555)](t){const e=i;this[e(374)][e(725)]=t,this[e(374)][e(419)]()}[i(673)](t,e,x,s=.04,a=!![]){const n=i;return t=t[n(646)](e)[n(626)](x)[n(735)](e),this.setDampFactor(s),this[n(608)].setLookAt(t.x,t.y,t.z,e.x,e.y,e.z,a)}[i(518)](t){const e=i;t.object===null||!this[e(578)]||(this[e(660)][e(578)]=![],this[e(621)](t.object))}[i(471)](t){const e=i;t[e(469)]!==null&&this[e(636)](t[e(469)])}onHoverOff(t){const e=i;t[e(469)]!==null&&this[e(390)](t[e(469)])}[i(391)](){const t=i;if(this[t(608)].active||this[t(641)][t(587)])return;const e=this.controls[t(675)]==32||this.controls[t(675)]==1;let x=-1,s=1;!e&&(this.cameraParams[t(565)]&&this[t(660)][t(570)].x&&(this.rotationTarget.x=this[t(660)][t(570)].x+this[t(608)][t(508)],this[t(642)].y=-this[t(660)].pointer.y+this[t(608)][t(734)],this[t(642)].x=T[t(699)](this.rotationTarget.x,this[t(608)].azimuthAngle+x,this[t(608)][t(508)]+s,this[t(608)][t(364)],this[t(608)][t(445)]),this.rotationTarget.y=T.map(this[t(642)].y,this[t(608)][t(734)]+x,this.controls[t(734)]+s,this[t(608)][t(579)],this[t(608)].maxPolarAngle)),this[t(504)]&&this[t(641)][t(342)]&&(this[t(642)].x=this[t(679)]+this[t(608)].azimuthAngle,this[t(642)].y=this[t(671)]+this[t(608)][t(734)]),this[t(608)][t(688)](this[t(642)].x,this[t(642)].y,![]))}[i(528)](t){const e=i;this.controls!==null&&(this[e(660)][e(442)]=t*1e3,!this[e(672)]&&(this[e(391)](),this[e(608)][e(528)](t)))}}class X{constructor(t,e){const x=i;this.isOverlayActive=![],this.hiddenSelector=x(397),this[x(732)]=x(633),this.contentContainer=document[x(615)](t),this[x(607)]=document[x(615)](e),!this[x(330)]&&console[x(424)]("iframe not found. Make sure this returns the correct element: document.getElementById(",t,x(726)),!this[x(607)]&&console[x(424)](x(519),e,x(726))}[i(401)](t,e=null){const x=i;this.isOverlayActive=t,t==!![]||this.loadingScreen[x(490)](),e!=null&&(this[x(607)][x(490)](),e())}[i(568)](t="",e=!![]){const x=i;window[x(417)][x(618)]&&e?window.history[x(618)](null,null,t):location[x(337)]=t}showDynamicHTML(t=!![]){const e=i;this[e(507)]=t,t?(this[e(330)][e(549)][e(735)](this[e(732)]),this.contentContainer[e(549)][e(490)](this[e(383)])):(this[e(330)][e(549)][e(735)](this[e(383)]),this[e(330)].classList.remove(this[e(732)]),this[e(568)]("",![]))}setDynamicHTML(t){const e=i;this[e(330)][e(629)]=t}addDynamicCloseButton(t){const e=i;let x=e(616);this[e(330)].insertAdjacentHTML("beforeend",x),x=this[e(330)][e(611)](e(376)),x[e(589)](e(325),()=>{this[e(458)](![]),t()})}[i(386)](t,e,x){const s=i;this.setDynamicHTML(t),this.addDynamicCloseButton(e),this[s(568)](x)}[i(603)](t){window[i(585)](t)}[i(531)](t){const e=i;this.contentContainer[e(611)](e(402))&&(t(),this[e(330)][e(629)]="")}}class N{constructor(t){const e=i;let x=this,s=null,a,n,o,c,f,m,u=null,v,L;window[e(640)]=t[e(456)];async function U(){const r=e;s=new G(t[r(547)][r(610)],t.camera),a=new W(l,t[r(374)]),n=new X(t[r(547)][r(331)],t[r(547)][r(472)]),n[r(401)](!![]);const h=s[r(553)]();u=s[r(434)]();const w=s[r(743)]();c=await new q(h,w,t[r(418)])[r(393)]((j,A,C)=>{const p=r;x[p(372)]&&x[p(372)](j,A,Math[p(535)](C))}),v=new l[r(652)],o=new l.AnimationMixer(h);const _=c.getLoopingAnimations();return E(r(436),_,!![]),a.init(w,u,c,K,Q,J),n.showLoadingScreen(![],M),Y(),z(),{camera:u,scene:h,renderer:w,sceneWrapper:c}}function Y(){const r=e;window[r(491)]=function(){const h=r;location[h(337)]==""?n[h(531)](M):window[h(417)][h(501)]&&window[h(417)][h(501)]()},window.addEventListener(r(657),()=>{M()},![])}function z(){const r=e;requestAnimationFrame(z),!n[r(507)]&&(L=v[r(704)](),o[r(528)](L),a[r(528)](L),s[r(340)](),x[r(479)]&&x[r(479)](L))}function M(r=!![]){const h=e;s[h(496)](),a[h(689)](r)}async function E(r,h,w=![],S=![],_=null){function j(C){const p=_0x55b3;return Object.keys(C)[p(575)]===0}return j(h)===!![]||!(r in h)?void 0:V(h[r],_,w,S)}async function V(r,h=null,w=![],S=![]){const _=e;let j=0;for(let A=0;A<r[_(575)];A++){const C=r[A],p=o[_(563)](C,h);p.blendMode=l[_(492)],p[_(403)](),p[_(496)](),p.zeroSlopeAtEnd=!![],p.zeroSlopeAtStart=!![],!w&&(p.setLoop(l.LoopOnce),p.reset()),p.clampWhenFinished=S,p[_(666)](),C[_(408)]>j&&(j=C.duration)}return new Promise(A=>setTimeout(()=>{A()},j*1e3))}function Q(r){const h=e;r[h(498)]==null||!a[h(578)]||(E(h(532),r[h(483)]),x[h(478)]!==null&&x[h(478)](r))}function J(r){const h=e;r[h(498)]!=null&&x[h(738)]!==null&&x[h(738)](r)}async function K(r){const h=e;x[h(624)]!==null&&x[h(624)](r),a[h(665)](!![]),o[h(506)]();const w=E(h(374),r[h(483)],![],![],u),S=E(h(400),r[h(483)],![],![]);await Promise[h(348)]([w,S]);const _=c.getLoopingAnimations();E("looping",_,!![]),$(r),a[h(665)](![])}function $(r){const h=e;switch(f=r[h(634)][h(606)],m=r[h(634)][h(625)],f){case"animation":break;case h(543):a[h(659)](m);break;case h(482):a.changeSceneZoneByName(m);break;case h(371):n[h(386)](m,M),n.showDynamicHTML();break;case h(739):n.openLink(m),M();break}m=null,f=null}x[e(747)]=function(r,h=.01){a[e(747)](r,h)},x[e(554)]=function(){a[e(659)]()},x[e(327)]=U,x[e(496)]=M,x[e(624)]=null,x[e(478)]=null,x.onHoverOffCallback=null,x[e(479)]=null,x[e(372)]=null}}return N});function _0x45fa(){const b=["setSize","directionalLight","DRACOLoader_js","rotation","update","zoomTo","mouseup","closeDynamicContent","onHover","_hovered","Vector3","round","getAnimations","PointLightHelper","tracks","fromEquirectangular","Group","onHoverAnimations","getHtmlData","buttonNextZone","EXRLoader","test","path","domElements","touch","classList","setFromCamera","interactablesContent","5561436mmNxSh","getScene","nextSceneZone","setCameraOffset","https://unpkg.com/three@0.149.0/examples/jsm/loaders/EXRLoader.js","loadJson","log","bloomParams","clientY","onHoverOff","ReinhardToneMapping","clipAction","Box3","followMouse","undefined","https://unpkg.com/three@0.149.0/examples/jsm/postprocessing/EffectComposer.js","pushHashURL","zone","pointer","addGLTFModel","none","finalComposer","enableAll","length","width","canvas","enabled","minPolarAngle","Vector2","moveCamera","loadModel","THREE","index","open","bind","orbit","defaultRotationDistance","addEventListener","setupCamera","postEffects","target","mapping","wrapScene","Z3D","getWrappedAnimations","activeSceneZone","https://unpkg.com/three@0.149.0/examples/jsm/postprocessing/ShaderPass.js","renderer","layers","auto","resetControlsLimits","openLink","bloomPass","touches","contentType","loadingScreen","controls","getRaycastTarget","canvasID","querySelector","2249180HVBBHm","1798695YPrDRs","json","getElementById",'<div id="z3d-close-btn" class="z3d-close-btn"><span>✕</span',"touchAction","pushState","EffectComposer_js","copy","pointerDownCallback","distance","two","onPointerDownCallback","content","setLength","_objects","then","innerHTML","hoveroff","start","function","z3d-visible","element","getInteractablesByZone","hoverOverCallback","models","push","PerspectiveCamera","DEBUG","cameraParams","rotationTarget","pointLight","activate","backgroundIntensity","sub","userAgent","pointerdown","PMREMGenerator","_selected","getRandomIntRange","Clock","forEach","sceneWrapper","tiltYArr","onClickAnimations","resize","hdr","nextScene","raycastManager","https://unpkg.com/three@0.149.0/examples/jsm/postprocessing/RenderPass.js","player","max","intersectObjects","setPaused","play","getAnimationTrack","zoneBox","updateSceneZones","Camera","tiltY","paused","orbitCameraTo","getBoundingClientRect","currentAction","maxZoom","toneMappingExposure","directional","tiltX",":>> GLTF element unrecognized:","4930740tlrMQj","side","type","name","install","exports","transformGroup","rotateTo","resetCamera","RGBELoader","deactivate","expandByObject","RenderPass_js","scrollHeight","loopAnimations","frame","cursor","addPointLight","map","exr","addLighting","Raycaster","cameraAnimations","getDelta","compileEquirectangularShader","pointerType","fill","toneMapping","setModelMatrixData","Missing raycast target for: ","pen","smoothTime","amd","dispatchEvent","Object3D","total","WebGLRenderer","moveTo","high-performance","_domElement","gltfLoader","jsonData","position","getSize","filmOffset",");  ","lookAtTargetSize","RenderPass","right","setupGyro","https://cdn.jsdelivr.net/npm/camera-controls/dist/camera-controls.min.js","visibleSelector","getInteractables","polarAngle","add","getAnimation","Canvas not found. Make sure this returns the correct element: document.GetElementByID(","onHoverOffCallback","link",".quaternion","domElement","top","getRenderer","maxDistance","restThreshold","get","changeSceneZoneByName","hoveron","click","setDecoderPath","setup","boxCenter","GLTFLoader","contentContainer","iframeID","https://unpkg.com/three/build/three.module.js","getHitObject","bgMesh","setZoom","getCenter","hash","backgroundBlurriness","Quaternion","render","MAX_SAFE_INTEGER","gyro","includes","default","setupRaycaster","values","scrollWidth","all","changeCameraZone","exposure","addPass","GLTFLoader_js","scale","touchend","wrappedModels","left","getBoundingBox","getBackgroundModelsByZone","https://unpkg.com/three@0.149.0/examples/jsm/loaders/RGBELoader.js","onPointerMove","addDirectionalLight","fitCameraToZone","color","minAzimuthAngle","visible","toStringTag","setInputActive","onPointerUp","activeZoneIndex","shadowMap","iframe","onProgressLoading","https://unpkg.com/three@0.149.0/examples/jsm/loaders/GLTFLoader.js","camera","addEXR","#z3d-close-btn","318318aKZHYa","lights","updatePointer","wrappedAnimations","PointLight","processModel","hiddenSelector","userData","getSceneZoneByName","setDynamicContent","getOwnPropertyDescriptor","DRACOLoader","setDRACOLoader","hoverOffCallback","rotateCamera","parse","build","split","setupPostEffects","load","z3d-hidden","getObjects","model","onClick","showLoadingScreen",".z3d-close","stop","lookAtTarget","scene","Mesh","saveState","duration","pow","https://unpkg.com/three@0.149.0/examples/jsm/shaders/FXAAShader.js","addHDR","createModelContainer","reading","init","lerp","addAmbientLight","history","jsonPath","updateProjectionMatrix","lookAtTargetBox","innerWidth","texture","lookAt","error","setLookAt","strength","point","getRandomRange","getCameraBoundsObject","_camera","aspect","An error happened ","Module","getCamera","getLoopingAnimations","looping","clone","getInteractableObject","interactables","AmbientLight","clientX","fps","multiplyScalar","getModel","maxAzimuthAngle","220600YzaNSd","createLightContainer","dispose","intensity","ambientLight","style","getInteractableModelsByZone","getIntersectableObjects","getHtml","fov","debug","Cache","showDynamicHTML","normalBias","intersectableObjects","gltf children :>> ","mouse","wrappedSceneZones","https://unpkg.com/three@0.149.0/examples/jsm/loaders/DRACOLoader.js","defineProperty","isPostEffectsEnabled","getSceneZoneByIndex","https://unpkg.com/three@0.149.0/examples/jsm/postprocessing/UnrealBloomPass.js","object","ACTION","onHoverOver","loadingScreenID","DirectionalLight","freeze","removeEventListener",'<iframe id="z3d-fullscreen" src="',"light","onHoverOverCallback","onUpdate","fitCameraOffset","getAnimationsFromCSV","buttonZone","animations","threshold","tiltXArr","average","getSceneWrapper","receiveShadow","maxGyroSignals","remove","onhashchange","NoBlending","distanceTo","AxesHelper","gltf","reset","set","raycastTarget","mouseButtons","onWindowResized","back","_intersections","setDampFactor","isMobileDevice","191365LYeoqh","stopAllAction","isOverlayActive","azimuthAngle","atan","SpotLight","children","setupRenderer","ROTATE","height","castShadow","Scene","bloom","onPointerDown","loadingScreen not found. Make sure this returns the correct element: document.getElementById(","quaternion","RGBELoader_js","random","radius"];return _0x45fa=function(){return b},_0x45fa()}
