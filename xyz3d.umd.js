function _0x2261(){const u=["updatePointer","onPointerDownCallback","WebGLRenderer","bloomParams","click","_domElement","getPlayer","clientX","https://unpkg.com/three@0.149.0/examples/jsm/shaders/FXAAShader.js","element","_selected","defaultDampFactor","getLoopingAnimations","controls","23350537fkhhCV","wrapScene","onHoverOver","tiltYArr","canvas","scrollWidth","intensity","closeDynamicContent","freeze","LoopOnce","getModel","content","hash","isMobileDevice","default","duration","rotateTo","tiltY","getBackgroundModelsByZone","DRACOLoader_js","interactable","debug","createModelContainer","addAmbientLight","currentAction","filmOffset","environment","loadModel","getRenderer","setSize","camera","pointer","GLTFLoader_js","MAX_SAFE_INTEGER","gltf children :>> ","position","getHtmlData","quaternionToVector3","finalComposer","_camera","mouseButtons","isOverlayActive","2222404NJUZCD","nextSceneZone","bloomPass","deactivate","fill","directional","zeroSlopeAtEnd","moveTo","keys","side","smoothTime","undefined","getCameraBoundsObject","3775116kpmhga","log","getAnimations","updateProjectionMatrix","zeroSlopeAtStart","activeZoneIndex","function","setZoom","defineProperty","XYZ3d-visible","setDecoderPath","iframe not found. Make sure this returns the correct element: document.getElementById(","https://unpkg.com/three@0.147.0/examples/js/libs/draco/","1860940lMKYsg","showDynamicHTML","map","https://unpkg.com/three@0.149.0/examples/jsm/loaders/DRACOLoader.js","point","open","removeEventListener","object","reading","getSceneZoneByName","ReinhardToneMapping","jsonPath","index","getAnimationTrack","defaultRotationDistance","left","onHoverOffCallback","hdr","visibleSelector","boxCenter","iframe","create","hoverOverCallback","https://unpkg.com/three/build/three.module.js","rotationTarget","all","Canvas not found. Make sure this returns the correct element: document.GetElementByID(","light","getBoundingClientRect","addPointLight","distance","getHitObject","activate","update","dispatchEvent","beforeend","targetPosition","azimuthAngle","modelName","wrappedSceneZones","renderer","wrappedModels","onHoverOff","clipAction","getSceneZoneByIndex","layers","resetCamera","lookAtTarget","toneMappingExposure","visible","lerp","Raycaster","getElementById","pointerdown","DEBUG","color",".position","onClick","enableAll","receiveShadow","type","get","goToNextZone","onHoverAnimations","active","gammaFactor","addEventListener","render","activeSceneZone","hoveron","round","onHover","error","Group","setCameraOffset","hiddenSelector","loadingScreen","openLink","pointerType","toStringTag","raycastManager","then","history","resetControlsLimits","max","loadingScreen not found. Make sure this returns the correct element: document.getElementById(","forEach","4682265ikrfAX","The gryto motion sensor is not supported on this device.","remove","https://unpkg.com/three@0.149.0/examples/jsm/postprocessing/EffectComposer.js","addGLTFModel","RenderPass","polarAngle","DirectionalLightHelper","domElement","setModelMatrixData","onhashchange","enabled","sceneWrapper","innerHTML","XYZ3d","setLookAt","tiltXArr","goToZone","play","contentContainer","right","pointLight","animations","touchAction","getScene","postEffects","addHDR","https://unpkg.com/three@0.149.0/examples/jsm/postprocessing/UnrealBloomPass.js","zone","innerHeight","models","userData",":>> GLTF element unrecognized:","texture","setDampFactor","onPointerDown","split","model","top","onProgressLoading","canvasID","cameraAnimations","radius","wrappedAnimations","rotation",".quaternion","atan","scrollHeight","name","setDynamicContent","GLTFLoader","normalBias","Vector3","domElements","insertAdjacentHTML","add","changeSceneZoneByIndex","getBoundingBox","createLightContainer","EXRLoader_js","userAgent","Clock","PointLightHelper","fps","lights","setupCamera","minAzimuthAngle","intersectableObjects","maxAzimuthAngle","onWindowResized","isPostEffectsEnabled","EquirectangularReflectionMapping","onClickAnimations","touch","addDirectionalLight","background","pow","fitCameraOffset","nextScene","addDynamicCloseButton","ACTION","getInteractables","getRaycastTarget","random","maxDistance","player","processModel","init","two","PointLight","innerWidth","PerspectiveCamera","dispose","TOUCH_ZOOM","scale","intersectObjects","amd","average","Vector2","#XYZ3d-close-btn","setupGyro","halfWindowWidth","children","onPointerUp","auto","width","THREE","ROTATE","getOwnPropertyDescriptor","Module","EffectComposer","rotateCamera","_hovered","cursor","EXRLoader","setPaused","Object3D","reset","fromEquirectangular","https://unpkg.com/three@0.149.0/examples/jsm/postprocessing/RenderPass.js","exr","classList","https://unpkg.com/three@0.149.0/examples/jsm/loaders/EXRLoader.js","size","hoveroff","maxZoom","backgroundBlurriness","setupRenderer","orbitCameraTo","addPass",".XYZ3d-close","orbit","values","cameraParams","loaded","distanceTo","_objects","maxGyroSignals","AnimationMixer","threshold","onHoverOverCallback","getInteractableModelsByZone","pushState","setupRaycaster","paused","touches","4185354UzxzER","includes","BackSide","SpotLight","changeSceneZoneByName","castShadow","loadJson","back","material","PMREMGenerator","gltf","backgroundIntensity","path","interactables","jsonData","bind","pen","pointermove","setDRACOLoader","getCenter","setDynamicHTML","min","setLoop","exposure","strength","mapping","loopAnimations","RGBELoader_js","RGBELoader","mouse","lookAt","height","getInteractablesByZone","DirectionalLight","mouseup","looping","push","style","Camera","none","setFromCamera","pointerDownCallback","multiplyScalar","minPolarAngle","target","getIntersectableObjects","blendMode","XYZ3d-hidden","bgMesh","_intersections","json","contentType","directionalLight","load","start","zoomTo","length","showLoadingScreen","fov","saveState","getAnimationsFromCSV","addEXR","tiltX","zoneBox","getAnimation","gyro","AxesHelper","https://unpkg.com/three@0.149.0/examples/jsm/loaders/GLTFLoader.js","pop","sub","touchend","gltfLoader","ambientLight","getRandomRange","getInteractableObject","transformGroup","getRandomIntRange","fitCameraToZone","querySelector","set","lookAtTargetSize","build","pushHashURL","setupPostEffects","getCameraAnimationStart","expandByObject","minStaticFrames","Missing raycast target for: ","addLighting","compileEquirectangularShader","UnrealBloomPass","scene","stop","raycastMesh","resize","quaternion","updateSceneZones","Mesh","getHtml","shadowMap","maxPolarAngle","onUpdate","frame","link","exports","raycastTarget","getSceneWrapper","tracks","729543NBzDma","https://unpkg.com/three@0.149.0/examples/jsm/loaders/RGBELoader.js","RenderPass_js","onPointerMove",");  ","hoverOffCallback","parse","changeCameraZone","https://unpkg.com/three@0.149.0/examples/jsm/postprocessing/ShaderPass.js"];return _0x2261=function(){return u},_0x2261()}function _0x499a(u,A){const l=_0x2261();return _0x499a=function(y,E){return y=y-113,l[y]},_0x499a(u,A)}(function(u,A){const l=_0x499a,y=u();for(;[];)try{if(parseInt(l(285))/1+-parseInt(l(376))/2+-parseInt(l(177))/3+parseInt(l(350))/4+-parseInt(l(463))/5+-parseInt(l(363))/6+parseInt(l(308))/7===A)break;y.push(y.shift())}catch{y.push(y.shift())}})(_0x2261,729708),function(u,A){const l=_0x499a;typeof exports=="object"&&typeof module!==l(361)?module[l(281)]=A(require("https://unpkg.com/three/build/three.module.js"),require(l(244)),require(l(379)),require(l(286)),require(l(153)),require(l(490)),require("https://unpkg.com/three@0.149.0/examples/jsm/postprocessing/RenderPass.js"),require(l(466)),require(l(293)),require("https://unpkg.com/three@0.149.0/examples/jsm/shaders/FXAAShader.js"),require("https://cdn.jsdelivr.net/npm/camera-controls/dist/camera-controls.min.js")):typeof define===l(369)&&define[l(127)]?define([l(399),"https://unpkg.com/three@0.149.0/examples/jsm/loaders/GLTFLoader.js","https://unpkg.com/three@0.149.0/examples/jsm/loaders/DRACOLoader.js","https://unpkg.com/three@0.149.0/examples/jsm/loaders/RGBELoader.js","https://unpkg.com/three@0.149.0/examples/jsm/loaders/EXRLoader.js",l(490),l(150),l(466),"https://unpkg.com/three@0.149.0/examples/jsm/postprocessing/ShaderPass.js",l(302),"https://cdn.jsdelivr.net/npm/camera-controls/dist/camera-controls.min.js"],A):(u=typeof globalThis!==l(361)?globalThis:u||self,u[l(477)]=A(u[l(137)],u[l(340)],u[l(327)],u[l(204)],u[l(522)],u.UnrealBloomPass_js,u[l(287)],u.EffectComposer_js))}(this,function(u,A,l,y,E,D,z,R){"use strict";const i=_0x499a;function Z(_){const e=_0x499a,t=Object[e(397)](null,{[Symbol[e(455)]]:{value:e(140)}});if(_){for(const x in _)if(x!==e(322)){const s=Object[e(139)](_,x);Object[e(371)](t,x,s[e(437)]?s:{enumerable:!![],get:()=>_[x]})}}return t[e(322)]=_,Object[e(316)](t)}const d=Z(u);class B{static[i(250)](e,t){return Math[i(114)]()*(t-e)+e}static[i(253)](e,t){return Math.round(Math.random()*(t-e)+e)}static[i(345)](e,t,x,s){const a=e+e,n=t+t,o=x+x,c=e*n,f=e*o,m=t*o,b=s*a,k=s*n,j=s*o;return{x:c-j,y:m+b,z:f-k}}static[i(378)](e,t,x,s,a){return(e-t)*(a-s)/(x-t)+s}static average(e){const t=i;let x=0;return e.forEach(s=>{x+=s}),x/e[t(233)]}}class I{constructor(e,t,x){const s=i;this[s(485)]=x,this.models=e,this[s(527)]=t,this[s(417)]={interactables:[],bg:[],player:null},this.wrappedAnimations={looping:[],onClick:[],onHover:[],camera:[]},this[s(415)]=[],this[s(309)](this[s(493)]),this[s(273)](this[s(415)])}[i(309)](e){const t=i,x={interactables:[],bgMesh:[],player:null},s=[];for(let a=0;a<e[t(233)];a++){const n=e[a],o=n[t(500)].userData;let c={};const f=this[t(365)](o,n.name);switch(o[t(436)]){case t(328):c=this[t(251)](n,o,f),x[t(190)][t(213)](c);break;case"cameraBounds":c=this[t(362)](n,o),s[t(213)](c);break;case t(225):x[t(225)].push(n.model);break;case t(270):x[t(225)].push(n[t(500)]);break;case"player":x[t(116)]=n.model;break}}this[t(417)]=x,this[t(415)]=s}updateSceneZones(e){const t=i,x=[...e];for(let s=0;s<x[t(233)];s++){const a=x[s],n=a[t(343)],o=this[t(172)](a[t(491)]);o[t(233)]<=0&&this.getBackgroundModelsByZone(a.zone)[t(462)](k=>{o[t(213)](k)});const c=this.getBoundingBox(o),f=new d[t(515)];c[t(196)](f);const m=new d[t(515)];c.getSize(m),x[s][t(395)]=n,x[s].lookAtTargetBox=c,x[s][t(257)]=m,x[s][t(423)]=f}this[t(415)]=x}[i(420)](e){const t=i;let x=null;return this.wrappedSceneZones[t(462)](s=>{s[t(388)]===e&&(x=s)}),x}[i(385)](e){const t=i;let x=null,s=null;return this[t(415)][t(462)](a=>{a.zone===e&&(x=a)}),{zoneBox:x,index:s}}[i(306)](){const e=i,t={looping:[]};return this[e(506)][e(212)].forEach(x=>{const s=e;x[s(485)][s(462)](a=>{t[s(212)].push(a)})}),t}getWrappedAnimations(){return this[i(506)]}[i(300)](){return this.wrappedModels.player}[i(544)](){const e=i;return this.wrappedModels[e(190)]}[i(209)](e){const t=i,x=[];for(let s=0;s<this[t(417)].interactables.length;s++){const a=this.wrappedModels[t(190)][s];a[t(491)]===e&&x[t(213)](a)}return x}[i(172)](e){const t=i,x=[];for(let s=0;s<this.wrappedModels[t(190)][t(233)];s++){const a=this[t(417)][t(190)][s];a[t(491)]===e&&x.push(a[t(303)][t(500)])}return x}[i(326)](e){const t=i,x=[];for(let s=0;s<this[t(417)][t(225)].length;s++){const a=this[t(417)][t(225)][s];a.type===t(449)?a[t(133)][t(462)](n=>{const o=t;a[o(494)][o(491)]===e&&x[o(213)](n)}):a[t(494)].zone===e&&x[t(213)](a)}return x}[i(520)](e){const t=i,x=new d.Box3;e[t(436)]===t(449)&&(e=[...e.children]);for(let s=0;s<e.length;s++){const a=e[s];x[t(262)](a)}return x}[i(318)](e){const t=i;for(let x=0;x<this[t(493)].length;x++){const s=this[t(493)][x].model;if(s[t(511)]===e)return s}return null}[i(241)](e){const t=i;for(let x=0;x<this.animations.length;x++){const s=this[t(485)][x];if(s.name===e)return s}return null}[i(237)](e){const t=i,x=e[t(499)](","),s=[];for(let a=0;a<x[t(233)];a++){const n=x[a];s[t(213)](this[t(241)](n))}return s}[i(389)](e,t){const x=i;for(let s=0;s<e[x(284)][x(233)];s++)if(e[x(284)][s][x(511)]===t)return e.tracks[s];return null}[i(261)](e){const t=i,x={position:null,rotation:null};for(let s=0;s<e.camera[t(233)];s++){const a=e.camera[s];for(let n=0;n<a[t(284)][t(233)];n++){const o=a[t(284)][n];if(o[t(511)][t(178)](t(432)))x.position=new d[t(515)](o.values[0],o[t(163)][1],o[t(163)][2]);else if(o.name[t(178)](t(508))){const c=new d.Quaternion(o[t(163)][0],o[t(163)][1],o[t(163)][2],o[t(163)][3]);x[t(507)]=c}}}return x}[i(365)](e,t){const x=i;let s=null,a=null,n=null,o=null;return x(203)in e&&(s=this[x(237)](e[x(203)]),this[x(506)][x(212)][x(213)]({name:t,animations:s})),x(535)in e&&(a=this.getAnimationsFromCSV(e[x(535)]),this[x(506)][x(433)][x(213)]({name:t,animations:a})),x(439)in e&&(n=this.getAnimationsFromCSV(e[x(439)]),this.wrappedAnimations[x(447)][x(213)]({name:t,animations:n})),x(504)in e&&(o=this[x(237)](e[x(504)]),this.wrappedAnimations[x(338)].push({name:t,animations:o})),{loopAnimations:s,onHoverAnimations:n,onClickAnimations:a,cameraAnimations:o}}getInteractableObject(e,t,x){const s=i,a=this[s(113)](t.raycastTarget),n={name:e[s(511)],raycastTarget:a,element:e,animations:{},zone:t[s(491)]};return x[s(439)]!==null&&(n[s(485)][s(447)]=x[s(439)]),x[s(535)]!==null&&(n[s(485)].onClick=x.onClickAnimations),x[s(504)]!==null&&(n[s(485)][s(338)]=x[s(504)]),n}getCameraBoundsObject(e,t){const x=i,s={zone:t.zone,index:parseInt(t[x(388)],10),position:e[x(500)].position};return e[x(500)][x(425)]=![],s}[i(113)](e){const t=i,x=this.getModel(e);return x==null?(console[t(364)](t(264),e),null):(x[t(185)][t(359)]=d[t(179)],x[t(185)][t(425)]=![],x)}}class H{async[i(291)](e){const t=i;let x=null;return await fetch(e)[t(457)](s=>s[t(227)]())[t(457)](s=>{x=s}),x}}class G{constructor(e,t,x){const s=i;this[s(268)]=e,this[s(416)]=t,this[s(387)]=x,this[s(475)];const a=new l.DRACOLoader;if(a[s(373)](s(375)),this.gltfLoader=new A[s(513)],this.gltfLoader[s(195)](a),window[s(430)]){const n=new d[s(243)](5e3);this[s(268)][s(518)](n)}}[i(283)](){return this[i(475)]}async loadJson(){const e=i;return await new H()[e(291)](this[e(387)])}async build(e){const t=i,x=await this[t(183)](),s=[],a=[],n=await this.addGLTFModel(x[t(493)],e),o=this[t(265)](x[t(527)]);return o[t(213)](...n[t(527)]),s.push(...n[t(493)]),a[t(213)](...n.animations),this.sceneWrapper=new I(s,o,a),this[t(475)]}async[i(467)](e,t){const x=i,s=[],a=[],n=[];for(let o=0;o<e[x(233)];o++){const c=e[o],f=function(m){const b=x;t(o+1,e[b(233)],100*m[b(165)]/m.total)};await this.loadModel(c,f)[x(457)](m=>{const b=x;window[b(430)]&&console[b(364)](b(342),[...m[b(187)][b(268)][b(133)]]);const k=this[b(117)](m);s.push(...k[b(493)]),a.push(...k[b(527)]),n.push(...k[b(485)])})}return{models:s,lights:a,animations:n}}[i(318)](e,t){const x=i;for(let s=0;s<e[x(233)];s++){const a=e[s];if(a.name===t)return a}return null}createModelContainer(e,t){const x=i,s={name:e[x(511)],model:e};switch(this[x(472)](e,t),e.castShadow=t[x(182)],e[x(435)]=t[x(435)],e[x(494)][x(436)]){case x(225):break;case"interactable":const a=this[x(275)](t,e[x(511)]);s[x(228)]=a[x(436)],s[x(319)]=a[x(319)];break}return s}[i(521)](e,t){return{type:e,light:t}}[i(117)](e){const t=i,x=[...e[t(187)].scene[t(133)]],s=e[t(187)][t(485)],a=[],n=[],o=1e5;for(let c=0;c<x.length;c++){const f=x[c];switch(f[t(421)][t(434)](),f[t(436)]){case t(274):a[t(213)](this[t(330)](f,e[t(191)]));break;case t(449):f[t(133)][t(462)](m=>{const b=t;this[b(472)](m,e[b(191)])}),a[t(213)](this[t(330)](f,e[t(191)]));break;case t(147):a[t(213)](this[t(330)](f,e[t(191)]));break;case t(120):f[t(314)]/=o,n[t(213)](this.createLightContainer(t(380),f));break;case"DirectionalLight":f[t(314)]/=o,n.push(this[t(521)](t(355),f));break;case t(180):f[t(314)]/=o,n[t(213)](this[t(521)]("spot",f));break;default:console.log(t(495),f);break}this[t(268)][t(518)](f)}return{models:a,lights:n,animations:s}}[i(472)](e,t){const x=i;e[x(343)][x(256)](e.position.x+t[x(343)].x,e.position.y+t[x(343)].y,e[x(343)].z+t[x(343)].z),e[x(272)].set(t[x(507)].x,t[x(507)].y,t[x(507)].z,t[x(507)].w),e[x(125)].set(t[x(125)].x,t[x(125)].y,t[x(125)].z)}getHtml(e,t){const x=i,s=this[x(344)](e,t);if(s[x(319)]!==void 0)return s[x(436)]==="iframe"&&(s.content='<iframe id="XYZ3d-fullscreen" src="'+s[x(319)]+'"></iframe>'),s}getHtmlData(e,t){const x=i,s=e.interactablesContent;for(let a=0;a<s[x(233)];a++){const n=s[a];if(n[x(414)]===t)return n}return null}async[i(335)](e,t){return new Promise(x=>{const s=_0x499a;return this[s(248)][s(230)](".."+e[s(189)],function(a){x({gltf:a,jsonData:e})},t,function(a){console[s(364)]("An error happened "+a)})})}[i(265)](e){const t=i,x=[];for(let s=0;s<e[t(233)];s++){const a=e[s];let n,o;const c={type:null,light:null};switch(a[t(436)]){case t(393):this.addHDR(a[t(189)],a[t(188)],a.backgroundBlurriness);break;case t(151):this[t(238)](a[t(189)],a[t(188)],a[t(157)]);break;case t(484):n=new d[t(515)](a.position.x,a[t(343)].y,a.position.z),o=this.addPointLight(n,a[t(431)],a[t(314)],a[t(154)],a[t(182)]),c[t(436)]=t(484),c[t(403)]=o;break;case"directionalLight":n=new d[t(515)](a[t(343)].x,a[t(343)].y,a[t(343)].z);const f=new d.Vector3(a.target.x,a[t(221)].y,a.target.z);o=this[t(537)](n,f,a[t(431)],a[t(314)],a[t(182)]),c.type=t(229),c[t(403)]=o;break;case t(249):o=this.addAmbientLight(a[t(431)],a[t(314)]),c[t(436)]=t(249),c[t(403)]=o;break}x[t(213)](c)}return x}[i(405)](e,t=0,x=1,s=1500,a=![]){const n=i,o=new d[n(120)](t,x,s);if(o[n(343)][n(426)](e,1),o.castShadow=a,o.normalBias=.1,this[n(268)][n(518)](o),window[n(430)]){const c=new d[n(525)](o,.25);this[n(268)][n(518)](c)}return o}[i(331)](e=0,t=1){const x=i,s=new d.AmbientLight(e,t);return this.scene[x(518)](s),s}addDirectionalLight(e,t=new d[i(515)](0,0,0),x=16777215,s=2,a=![]){const n=i,o=new d[n(210)](x,s);if(o.position[n(426)](e,1),o.target.position.lerp(t,1),o[n(182)]=a,o[n(514)]=.1,this[n(268)][n(518)](o),this[n(268)][n(518)](o[n(221)]),window[n(430)]){const c=new d[n(470)](o);this[n(268)][n(518)](c)}return o}[i(489)](e,t,x){const s=i,a=new d[s(186)](this[s(416)]);a[s(266)]();let n;new y[s(205)]()[s(230)](".."+e,o=>{const c=s;n=a[c(149)](o)[c(496)],this[c(268)][c(334)]=n,this[c(268)][c(538)]=n,this[c(268)][c(188)]=t,this.scene.backgroundBlurriness=x,o[c(123)](),a[c(123)]()})}[i(238)](e,t,x){const s=i,a=new d.PMREMGenerator(this[s(416)]);a[s(266)]();let n;new E[s(145)]().load(".."+e,o=>{const c=s;o[c(202)]=d[c(534)],n=a.fromEquirectangular(o)[c(496)],this[c(268)][c(334)]=n,this[c(268)][c(538)]=n,this[c(268)][c(188)]=t,this[c(268)][c(157)]=x,o[c(123)](),a[c(123)]()})}}class q{constructor(e,t){const x=i;d.Cache[x(474)]=!![],this[x(312)]=document[x(428)](e),!this[x(312)]&&console[x(448)](x(402),e,x(289)),this[x(164)]=t,this.bloomParams=t[x(488)].bloom,this[x(136)]=this[x(312)][x(313)],this[x(208)]=this[x(312)][x(510)],this.camera=new d[x(122)](this[x(164)][x(235)],this[x(136)]/this[x(208)],.1,1e4),this[x(338)][x(511)]=x(215),this[x(268)]=new d.Scene,this[x(416)],this[x(346)],this[x(352)],this[x(533)]=t[x(488)][x(474)],this[x(158)](),this[x(533)]&&this[x(260)]()}getCamera(){return this.camera}[i(487)](){return this[i(268)]}[i(336)](){return this[i(416)]}setupRenderer(){const e=i;this.renderer=new d[e(296)]({canvas:this[e(312)],antialias:!![],powerPreference:"high-performance",failIfMajorPerformanceCaveat:!![]}),this[e(416)][e(276)].enabled=!![],this[e(338)][e(421)].enableAll(),this[e(416)].setSize(this[e(136)],this.height),this[e(416)].toneMapping=d[e(386)],this[e(416)][e(424)]=Math[e(539)](this[e(297)].exposure,4),this[e(416)][e(441)]=4}setupPostEffects(){const e=i,t=new z[e(468)](this[e(268)],this[e(338)]),x=new D[e(267)](new d[e(129)](this.width,this[e(208)]),this[e(297)][e(201)],this.bloomParams[e(505)],this[e(297)][e(170)]);x[e(200)]=this[e(297)][e(200)],x[e(170)]=this[e(297)][e(170)],x.strength=this.bloomParams[e(201)],x[e(505)]=this.bloomParams[e(505)],this[e(346)]=new R[e(141)](this[e(416)]),this[e(346)][e(337)](this[e(136)],this.height),this.finalComposer[e(160)](t),this[e(346)].addPass(x)}[i(532)](){const e=i;this.width=this.canvas[e(313)],this[e(208)]=this[e(312)][e(510)],this[e(338)].aspect=this.width/this[e(208)],this[e(338)][e(366)](),this[e(416)][e(337)](this[e(136)],this[e(208)]),this[e(533)]&&this[e(346)][e(337)](this[e(136)],this[e(208)])}[i(148)](){this.onWindowResized()}[i(443)](){const e=i;this[e(533)]?this[e(346)][e(443)]():this.renderer[e(443)](this[e(268)],this.camera)}}const P=new d[i(427)];class X extends d.EventDispatcher{constructor(e,t,x){const s=i;super(),this._objects=e,this[s(347)]=t,this[s(299)]=x,this[s(304)]=null,this[s(143)]=null,this[s(226)]=[],this.fps=30,this[s(474)]=!![],this[s(252)]=![],this[s(132)]=window[s(121)]/2,this[s(132)]=window[s(492)]/2,this[s(279)]=0,this[s(263)]=this[s(526)],this[s(530)]=this[s(222)](this[s(167)]),this.pointer=new d[s(129)],this[s(288)]=a=>{const n=s;if(this.enabled!==![]&&(this[n(279)]+=1,this[n(279)]>Number[n(341)]&&(this[n(279)]=0),this[n(294)](a),P[n(217)](this[n(339)],this._camera),this[n(530)]==null&&(this[n(530)]=getIntersectableObjects(this._objects)),a[n(454)]===n(206)||a[n(454)]===n(193)||a[n(454)]===n(536)))if(this[n(226)].length=0,P[n(217)](this.pointer,this[n(347)]),P[n(126)](this.intersectableObjects,![],this[n(226)]),this[n(226)].length>0){let o=this[n(226)][0][n(383)];o=this[n(407)](o[n(511)]),this._hovered!==o&&this[n(143)]!==null&&(this[n(410)]({type:n(155),object:this[n(143)]}),this[n(299)][n(214)][n(144)]=n(135),this._hovered=null),this[n(143)]!==o&&(this[n(410)]({type:n(445),object:o}),this._domElement[n(214)].cursor=n(339),this[n(143)]=o)}else this[n(143)]!==null&&(this[n(410)]({type:n(155),object:this[n(143)]}),this[n(299)][n(214)][n(144)]=n(135),this[n(143)]=null)},this[s(134)]=a=>{const n=s;if(this[n(474)]!==![]&&!(typeof a===TouchEvent&&a[n(176)].length>1)){if(this[n(279)]>Math[n(198)](this[n(526)]*2,20)){this[n(279)]=0;return}if(this[n(279)]=0,(this[n(530)]==null||this.intersectableObjects==null)&&(this.intersectableObjects=getIntersectableObjects(this._objects)),this[n(299)][n(214)][n(486)]=n(216),this[n(294)](a),this[n(226)][n(233)]=0,P[n(217)](this[n(339)],this._camera),P[n(126)](this[n(530)],![],this._intersections),this[n(226)][n(233)]>0){const o=this[n(226)][0][n(383)];this._selected=this.getHitObject(o.name),this[n(410)]({type:"pointerdown",object:this[n(304)]}),this._hovered=this[n(304)]}}},this[s(408)]()}[i(408)](){const e=i;this[e(299)][e(442)]("pointermove",this[e(288)]),this[e(299)][e(442)](e(247),this[e(134)]),this[e(299)][e(442)]("mouseup",this[e(134)])}[i(353)](){const e=i;this[e(299)][e(382)](e(194),this[e(288)]),this[e(299)][e(382)](e(247),this[e(134)]),this[e(299)][e(382)](e(211),this[e(134)]),this[e(299)].style.cursor=""}[i(294)](e){const t=i,x=this._domElement[t(404)]();this[t(339)].x=(e[t(301)]-x[t(391)])/x[t(136)]*2-1,this.pointer.y=-(e.clientY-x[t(501)])/x[t(208)]*2+1}[i(123)](){this[i(353)]()}getObjects(){return this[i(167)]}[i(222)](e){const t=i,x=[];for(let s=0;s<e.length;s++){const a=e[s];x.push(a[t(282)])}return x}[i(407)](e){const t=i;for(let x=0;x<this[t(167)].length;x++){const s=this[t(167)][x];if(s[t(282)][t(511)]===e)return s}return null}}class F{constructor(e,t){const x=i;CameraControls.install({THREE:e}),this.enabled=!![],this[x(175)]=![],this.raycastManager,this[x(307)],this.camera,this[x(412)],this[x(218)],this[x(475)],this[x(444)],this[x(305)]=.05,this[x(390)]=.05,this[x(164)]=t,this.activeZoneIndex=0,this[x(239)]=0,this[x(325)]=0,this.maxGyroSignals=512,this[x(479)]=new Array(this.maxGyroSignals).fill(0),this[x(311)]=new Array(this[x(168)])[x(354)](0),this[x(321)]=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator[x(523)]),this.fitCameraOffset=this[x(321)]?1.5:3,this.rotationTarget=new d[x(129)]}init(e,t,x,s,a,n){const o=i;this[o(416)]=e,this[o(338)]=t,this[o(475)]=x,this[o(218)]=s,this.hoverOverCallback=a,this[o(290)]=n,this[o(444)]=this[o(475)][o(420)](this[o(368)]),this[o(131)](),this[o(528)](),this[o(174)](),this[o(422)]()}[i(131)](){const e=i;if(this[e(164)].gyro)try{let t=new Gyroscope({frequency:15});t[e(442)](e(384),x=>{const s=e;this[s(479)][s(213)](t.y*2),this[s(311)][s(213)](t.x*2),this[s(239)]=B[s(128)](this[s(479)]),this[s(325)]=B[s(128)](this.tiltYArr),this[s(479)][s(233)]>this[s(168)]&&(this[s(479)].pop(),this[s(311)][s(245)]())}),t[e(231)]()}catch(t){console[e(364)](e(464),t)}}[i(528)](){const e=i;this[e(338)][e(343)][e(426)](this.activeSceneZone[e(395)],1),this[e(338)][e(207)](this[e(444)][e(423)]),this[e(254)](this[e(540)]),this[e(307)]&&this[e(307)][e(123)](),this[e(307)]=new CameraControls(this[e(338)],this[e(416)][e(471)]),this[e(307)].restThreshold=.1,this[e(459)]()}[i(459)](){const e=i;this[e(164)][e(162)]!==!![]&&(this[e(307)][e(348)][e(483)]=CameraControls[e(543)][e(138)],this[e(307)][e(176)][e(119)]=CameraControls[e(543)][e(124)],this[e(307)].maxAzimuthAngle=this.controls.azimuthAngle+this.defaultRotationDistance,this[e(307)].minAzimuthAngle=this.controls[e(413)]-this[e(390)],this[e(307)].maxPolarAngle=this[e(307)].polarAngle+this[e(390)],this[e(307)][e(220)]=this[e(307)][e(469)]-this[e(390)],this[e(307)][e(115)]=this.controls.distance*2,this[e(307)][e(156)]=this[e(307)][e(406)]*2,this.rotationTarget=new d[e(129)](this[e(307)][e(413)],this[e(307)][e(469)]))}[i(174)](){const e=i;this[e(456)]&&this[e(456)][e(123)]();const t=this[e(475)].getInteractablesByZone(this.activeSceneZone[e(491)]);this[e(456)]=new X(t,this[e(338)],this[e(416)][e(471)]),this[e(456)].addEventListener(e(429),this[e(498)][e(192)](this)),this.raycastManager[e(442)](e(445),this[e(310)].bind(this)),this[e(456)].addEventListener(e(155),this[e(418)][e(192)](this))}[i(351)](){const e=i;this.activeZoneIndex+=1,this.sceneWrapper[e(415)][e(233)]<=this.activeZoneIndex&&(this[e(368)]=0),this[e(519)](this[e(368)])}[i(519)](e,t=.01){const x=i,s=this[x(475)][x(420)](e);this[x(368)]=e,this[x(292)](s,t)}[i(181)](e,t=.01){const x=i,s=this[x(475)][x(385)](e);this[x(368)]=s[x(388)],this[x(292)](s[x(240)],t)}[i(292)](e,t=.01){const x=i;this[x(444)]=e;const s=this[x(254)](this[x(540)]);this.setInputActive(![]),this[x(159)](e.boxCenter,e[x(423)],s,t)[x(457)](()=>{const a=x;this[a(307)][a(236)](),this[a(459)](),this.setInputActive(!![])}),this[x(174)]()}[i(254)](e=3){const t=i,x=Math[t(460)](this[t(444)][t(257)].x,this[t(444)][t(257)].y,this[t(444)].lookAtTargetSize.z),s=x/(2*Math[t(509)](Math.PI*this[t(338)][t(235)]/360)),a=s/this[t(338)].aspect,n=e*Math[t(460)](s,a),o=this.activeSceneZone.lookAtTarget.clone().sub(this[t(338)][t(343)]).normalize()[t(219)](n);return this[t(338)][t(343)].copy(this[t(444)][t(423)])[t(246)](o),this[t(338)][t(207)](this[t(444)][t(423)]),this[t(338)][t(343)][t(166)](this.activeSceneZone[t(423)])}setInputActive(e){const t=i;this[t(474)]=e,this.raycastManager[t(474)]=e,this[t(307)][t(474)]=e}setPaused(e){const t=i;this[t(175)]=e,this[t(474)]=!e,this[t(456)].enabled=!e}[i(422)](e=!![]){const t=i;this[t(474)]&&(this.moveCamera(this[t(444)][t(395)],e),this.setLookAt(this[t(444)].boxCenter,this.activeSceneZone.lookAtTarget,e),this.controls[t(148)](e))}[i(497)](e=.05){const t=i;this[t(307)][t(360)]=e*50}[i(370)](e,t=!![]){const x=i;this.controls[x(232)](e,t)}[i(478)](e,t,x=!![]){const s=i;return this.controls[s(478)](e.x,e.y,e.z,t.x,t.y,t.z,x)}moveCamera(e,t=!![]){const x=i;return this.controls[x(357)](e.x,e.y,e.z,!![])}[i(450)](e){const t=i;this.camera[t(333)]=e,this[t(338)][t(366)]()}[i(159)](e,t,x,s=.04,a=!![]){const n=i;return e=e[n(246)](t).setLength(x)[n(518)](t),this[n(497)](s),this[n(307)][n(478)](e.x,e.y,e.z,t.x,t.y,t.z,a)}[i(498)](e){const t=i;e[t(383)]===null||!this.enabled||(this.raycastManager[t(474)]=![],this[t(218)](e[t(383)]))}[i(310)](e){const t=i;e[t(383)]!==null&&this[t(398)](e[t(383)])}[i(418)](e){const t=i;e.object!==null&&this[t(290)](e[t(383)])}[i(142)](){const e=i;if(this[e(307)][e(440)]||this[e(164)][e(162)])return;const t=this[e(307)][e(332)]==32||this[e(307)][e(332)]==1;let x=-1,s=1;!t&&(this.cameraParams.followMouse&&this[e(456)][e(339)].x&&(this[e(400)].x=this[e(456)][e(339)].x+this[e(307)][e(413)],this[e(400)].y=-this[e(456)][e(339)].y+this[e(307)][e(469)],this.rotationTarget.x=B[e(378)](this.rotationTarget.x,this[e(307)].azimuthAngle+x,this.controls[e(413)]+s,this[e(307)][e(529)],this[e(307)][e(531)]),this.rotationTarget.y=B[e(378)](this[e(400)].y,this[e(307)][e(469)]+x,this[e(307)][e(469)]+s,this[e(307)].minPolarAngle,this[e(307)][e(277)])),this[e(321)]&&this[e(164)][e(242)]&&(this.rotationTarget.x=this.tiltX+this[e(307)].azimuthAngle,this[e(400)].y=this[e(325)]+this.controls[e(469)]),this[e(307)][e(324)](this[e(400)].x,this[e(400)].y,![]))}[i(409)](e){const t=i;this.controls!==null&&(this.raycastManager[t(526)]=e*1e3,!this[t(175)]&&(this[t(142)](),this[t(307)][t(409)](e)))}}class W{constructor(e,t){const x=i;this[x(349)]=![],this[x(451)]=x(224),this.visibleSelector=x(372),this.contentContainer=document[x(428)](e),this.loadingScreen=document[x(428)](t),!this.contentContainer&&console[x(448)](x(374),e,x(289)),!this.loadingScreen&&console[x(448)](x(461),t,x(289))}[i(234)](e,t=null){const x=i;this[x(349)]=e,e==!![]||this[x(452)][x(465)](),t!=null&&(this.loadingScreen[x(465)](),t())}[i(259)](e="",t=!![]){const x=i;window[x(458)][x(173)]&&t?window[x(458)][x(173)](null,null,e):location[x(320)]=e}[i(377)](e=!![]){const t=i;this[t(349)]=e,e?(this.contentContainer[t(152)][t(518)](this[t(394)]),this[t(482)].classList.remove(this.hiddenSelector)):(this[t(482)][t(152)][t(518)](this[t(451)]),this[t(482)][t(152)].remove(this[t(394)]),this[t(259)]("",![]))}[i(197)](e){const t=i;this[t(482)][t(476)]=e}[i(542)](e){const t=i;let x='<div id="XYZ3d-close-btn" class="XYZ3d-close-btn"><span>✕</span';this.contentContainer[t(517)](t(411),x),x=this[t(482)][t(255)](t(130)),x.addEventListener(t(298),()=>{this.showDynamicHTML(![]),e()})}setDynamicContent(e,t,x){const s=i;this.setDynamicHTML(e),this.addDynamicCloseButton(t),this[s(259)](x)}[i(453)](e){window[i(381)](e)}[i(315)](e){const t=i;this[t(482)][t(255)](t(161))&&(e(),this[t(482)][t(476)]="")}}class Y{constructor(e){const t=i;let x=this,s=null,a,n,o,c,f,m,b=null,k,j;window[t(430)]=e[t(329)];async function U(){const h=t;s=new q(e.domElements[h(503)],e.camera),a=new F(d,e[h(338)]),n=new W(e[h(516)].iframeID,e[h(516)].loadingScreenID),n.showLoadingScreen(!![]);const r=s[h(487)]();b=s.getCamera();const w=s[h(336)]();c=await new G(r,w,e[h(387)])[h(258)]((C,v,L)=>{const g=h;x[g(502)]&&x[g(502)](C,v,Math[g(446)](L))}),k=new d[h(524)],o=new d[h(169)](r);const p=c.getLoopingAnimations();return T("looping",p,!![]),a[h(118)](w,b,c,Q,J,K),n[h(234)](![],M),N(),O(),{camera:b,scene:r,renderer:w,sceneWrapper:c}}function N(){const h=t;window[h(473)]=function(){const r=h;location[r(320)]==""?n.closeDynamicContent(M):window[r(458)][r(184)]&&window[r(458)][r(184)]()},window[h(442)](h(271),()=>{M()},![])}function O(){const h=t;requestAnimationFrame(O),!n[h(349)]&&(j=k.getDelta(),o[h(409)](j),a[h(409)](j),s[h(443)](),x[h(278)]&&x.onUpdate(j))}function M(h=!![]){const r=t;s[r(148)](),a[r(422)](h)}async function T(h,r,w=![],S=![],p=null){function C(L){const g=_0x499a;return Object[g(358)](L)[g(233)]===0}return C(r)===!![]||!(h in r)?void 0:V(r[h],p,w,S)}async function V(h,r=null,w=![],S=![]){const p=t;let C=0;for(let v=0;v<h[p(233)];v++){const L=h[v],g=o[p(419)](L,r);g[p(223)]=d.NoBlending,g[p(269)](),g[p(148)](),g[p(356)]=!![],g[p(367)]=!![],!w&&(g[p(199)](d[p(317)]),g[p(148)]()),g.clampWhenFinished=S,g[p(481)](),L[p(323)]>C&&(C=L[p(323)])}return new Promise(v=>setTimeout(()=>{v()},C*1e3))}function J(h){const r=t;h[r(282)]==null||!a.enabled||(T(r(447),h[r(485)]),x[r(171)]!==null&&x[r(171)](h))}function K(h){const r=t;h[r(282)]!=null&&x[r(392)]!==null&&x[r(392)](h)}async function Q(h){const r=t;x[r(295)]!==null&&x[r(295)](h),a.setPaused(!![]),o.stopAllAction();const w=T("camera",h[r(485)],![],![],b),S=T(r(433),h[r(485)],![],![]);await Promise[r(401)]([w,S]);const p=c[r(306)]();T("looping",p,!![]),$(h),a[r(146)](![])}function $(h){const r=t;switch(f=h.element[r(228)],m=h[r(303)][r(319)],f){case"animation":break;case r(438):a[r(541)](m);break;case r(480):a.changeSceneZoneByName(m);break;case r(396):n[r(512)](m,M),n[r(377)]();break;case r(280):n[r(453)](m),M();break}m=null,f=null}x[t(181)]=function(h,r=.01){a[t(181)](h,r)},x.nextSceneZone=function(){a[t(541)]()},x.setup=U,x[t(148)]=M,x[t(295)]=null,x.onHoverOverCallback=null,x.onHoverOffCallback=null,x.onUpdate=null,x[t(502)]=null}}return Y});
